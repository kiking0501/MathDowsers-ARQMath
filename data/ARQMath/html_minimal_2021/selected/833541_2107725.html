<!DOCTYPE html>

<html>
<head>
<title>Making Friends around a Circular Table</title>
<link href="https://cdn.sstatic.net/Shared/stacks.css?v=079c5e1603be" rel="stylesheet" type="text/css"/>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript"> </script>
<link href="https://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css" rel="stylesheet"/>
<link href="https://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap-theme.min.css" rel="stylesheet"/>
<style>
        .row {
          display: block;
          margin-left: auto;
          margin-right: auto;
          width:50%;
        }
        tr {
          border:1px solid lightgrey;
        }
        </style>
</head>
<body>
<div>
<div class="row" id="question-title">
<h1> Making Friends around a Circular Table </h1>
<hr/>
</div>
<div class="row">
<div class="question">
<div id="question" question_id="833541">
<p>I have <span class="math-container" id="8136764" visual_id="177"><math alttext="n" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>n</mi></semantics></math></span> people seated around a circular table, initially in arbitrary order. At each step, I choose two people and switch their seats. What is the minimum number of steps required such that every person has sat either to the right or to the left of everyone else?</p> <p>To be specific, we consider two different cases:</p> <ol> <li>You can only switch people who are sitting next to each other.</li> <li>You can switch any two people, no matter where they are on the table.</li> </ol> <p>The small cases are relatively simple: if we denote the answer in case 1 and 2 for a given value of <span class="math-container" id="8136765" visual_id="177"><math alttext="n" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>n</mi></semantics></math></span> as <span class="math-container" id="8136766" visual_id="9133"><math alttext="f(n)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></mrow></semantics></math></span> and <span class="math-container" id="8136767" visual_id="6519"><math alttext="g(n)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></mrow></semantics></math></span> respectively, then we have <span class="math-container" id="8136768" visual_id="217188"><math alttext="f(x)=g(x)=0" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>f</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mrow><mi>g</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mn>0</mn></mrow></semantics></math></span> for <span class="math-container" id="8136769" visual_id="250288"><math alttext="x=1,2,3" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo><mrow><mn>1</mn><mo>,</mo><mn>2</mn><mo>,</mo><mn>3</mn></mrow></mrow></semantics></math></span>, <span class="math-container" id="8136770" visual_id="3910747"><math alttext="f(4)=g(4)=1" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>f</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>4</mn><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mrow><mi>g</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>4</mn><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mn>1</mn></mrow></semantics></math></span>. I'm not sure how I would generalize to larger values, though.</p> <p>(I initially claimed that <span class="math-container" id="8136771" visual_id="3910748"><math alttext="f(5)=g(5)=2" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>f</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>5</mn><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mrow><mi>g</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>5</mn><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mn>2</mn></mrow></semantics></math></span>, but corrected it based on @Ryan's comment).</p> <p><em>If you're interested, this question came up in a conversation with my friends when we were trying to figure out the best way for a large party of people during dinner to all get to know each other.</em></p> <p><strong>Edit:</strong> The table below compares the current best known value for case 2, <span class="math-container" id="8136772" visual_id="6519"><math alttext="g(n)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></mrow></semantics></math></span>, to the theoretical lower bound <span class="math-container" id="8136773" visual_id="3910749"><math alttext="\lceil{\frac{1}{8}n(n-3)}\rceil" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">⌈</mo><mrow><mfrac><mn>1</mn><mn>8</mn></mfrac><mo>⁢</mo><mi>n</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>n</mi><mo>-</mo><mn>3</mn></mrow><mo stretchy="false">)</mo></mrow></mrow><mo stretchy="false">⌉</mo></mrow></semantics></math></span> for a range of values of <span class="math-container" id="8136774" visual_id="177"><math alttext="n" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>n</mi></semantics></math></span>. Solutions up to <span class="math-container" id="8136775" visual_id="29175"><math alttext="n=14" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>14</mn></mrow></semantics></math></span> are known to be optimal, in large part due to the work of Andrew Szymczak and PeterKošinár.</p> <p>\begin{array} {|r|r|l|} \hline n &amp; \text{Best known value of g(n)} &amp; \left\lceil{\frac{1}{8}n(n-3)}\right\rceil &amp; \text{Comments}\\ \hline 4 &amp; 1 &amp; 1 &amp; \\ \hline 5 &amp; 3 &amp; 2 &amp; \\ \hline 6 &amp; 4 &amp; 3 &amp; \\ \hline 7 &amp; 4 &amp; 4 &amp; \\ \hline 8 &amp; 6 &amp; 5 &amp; \\ \hline 9 &amp; 8 &amp; 7 &amp; \\ \hline 10 &amp; 10 &amp; 9 &amp; \\ \hline 11 &amp; 12 &amp; 11 &amp; \\ \hline 12 &amp; 14 &amp; 14 &amp; \\ \hline 13 &amp; 17 &amp; 17 &amp; \\ \hline 14 &amp; 20 &amp; 20 &amp; \\ \hline 15 &amp; 24 &amp; 23 &amp; \\ \hline 16 &amp; 28 &amp; 26 &amp; \\ \hline 17 &amp; 32 &amp; 30 &amp; \\ \hline 18 &amp; 37 &amp; 34 &amp; \\ \hline 20 &amp; 47 &amp; 43 &amp; \text{Loose upper bound}\\ \hline 25 &amp; 77 &amp; 69 &amp; \text{Loose upper bound}\\ \hline 30 &amp; 114 &amp; 102 &amp; \text{Loose upper bound}\\ \hline \end{array}  </p> <p>The moves corresponding to the current best value are found below. Each ordered pair <span class="math-container" id="8136776" visual_id="564"><math alttext="(i,j)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>i</mi><mo>,</mo><mi>j</mi><mo stretchy="false">)</mo></mrow></semantics></math></span> indicates that we switch the people in <strong>seats</strong> <span class="math-container" id="8136777" visual_id="564"><math alttext="(i,j)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>i</mi><mo>,</mo><mi>j</mi><mo stretchy="false">)</mo></mrow></semantics></math></span> with each other, with the seats being labeled from <span class="math-container" id="8136778" visual_id="722703"><math alttext="1\ldots n" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>⁢</mo><mi mathvariant="normal">…</mi><mo>⁢</mo><mi>n</mi></mrow></semantics></math></span> consecutively around the table.</p> <pre><code>4  - ((2,1)) 5  - ((2,5),(1,5),(1,3)) 6  - ((5,3),(1,5),(2,5),(3,6)) 7  - ((4,7),(3,7),(1,5),(2,5)) 8  - ((1,2),(4,7),(1,5),(3,7),(1,6),(2,5)) (h.t. PeterKošinár) 9  - ((3,8),(1,4),(6,9),(4,8),(1,6),(5,8),(2,8),(2,9)) 10 - ((3,8),(4,8),(7,10),(1,7),(3,6),(1,5),(2,9),(3,7),(1,4),(3,9)) 11 - ((4,8),(2,9),(5,8),(1,7),(3,9),(7,11),(5,10),(1,4),(5,9),(2,7),(2,6),(5,10)) 12 - ((1,2),(5,10),(1,6),(4,10),(1,7),(8,11),(4,12),(3,12),(1,9),(1,5),(7,11) (1,8),(5,10),(2,6)) 13 - ((1,2),(1,7),(3,9),(6,12),(8,11),(8,12),(1,11),(4,12),(9,12),(6,10),(7,10),(1,6),(2,8),(5,9),(3,8),(8,12),(9,12)) 14 - ((1,4),(1,5),(1,8),(1,12),(4,11),(4,12),(9,13),(1,12),(9,12),(6,10),(6,9),(1,9),(4,7),(4,13),(3,13),(3,10),(2,13),(2,7),(3,13),(4,12)) 15 - ((0,3),(0,10),(4,7),(2,8),(1,8),(5,9),(3,14),(5,13),(2,11),(4,9),(5,14),(4,12),(2,6),(7,14),(0,3),(2,9),(6,10),(8,11),(0,12),(0,4),(0,7),(3,7),(3,10),(2,13)) 16 - ((10,14),(10,13),(0,10),(5,9),(5,8),(2,12),(2,5),(7,12),(2,12),(3,14),(5,11),(0,5),(4,14),(4,7),(3,11),(3,10),(0,8),(0,9),(0,6),(3,6),(1,14),(11,15),(1,5),(6,14),(3,11),(11,14),(0,12),(1,4)) 17 - ((9,15),(5,13),(13,16),(0,13),(2,10),(10,16),(5,16),(5,13),(2,6),(2,10),(10,16),(7,10),(4,15),(1,8),(4,9),(5,12),(4,10),(3,13),(5,14),(1,4),(5,15),(1,6),(5,12),(8,12),(7,12),(4,12),(0,12),(8,11),(8,14),(7,16),(2,3),(1,8)) 18 - ((4,7),(4,14),(6,10),(7,13),(4,7),(8,16),(8,13),(7,13),(3,8),(0,8),(4,8),(6,16),(1,12),(1,5),(5,11),(0,5),(14,17),(1,13),(8,13),(3,13),(0,4),(11,16),(2,10),(11,17),(9,15),(10,15),(1,9),(2,13),(1,4),(5,12),(6,14),(7,16),(13,17),(0,15),(1,15),(6,10),(5,15)) # Note that some solutions are zero-indexed and some are one-indexed. </code></pre> <p>The code I used to generate my the results can be found on <a href="https://github.com/vtjeng/friends-of-the-round-table" rel="noreferrer">Github</a>. Unless otherwise specified, the switches above were found by my code, using a randomized greedy approach. As demonstrated by PeterKošinár, since the total number of possibilities is large, this approach may not find the best result even after many trials.</p>
</div>
<hr/>
<div id="tags">
<span> combinatorics </span><span> optimization </span>
</div>
<hr/>
<div id="question-comments">
<table>
<tbody>
<tr><td comment_id="1720484"> Can you provide the 'switches' that result in <span class="math-container" id="8136779" visual_id="407398"><math alttext="f(5)=2" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>f</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>5</mn><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mn>2</mn></mrow></semantics></math></span>?  The best I can get using your rules is <span class="math-container" id="8136780" visual_id="1020032"><math alttext="f(5)=3" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>f</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>5</mn><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mn>3</mn></mrow></semantics></math></span>. </td></tr><tr><td comment_id="1720941"> Well, <span class="math-container" id="8136781" visual_id="3910750"><math alttext="f(n)\geq\tfrac{1}{4}n(n-3)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>f</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></mrow><mo>≥</mo><mrow><mfrac><mn>1</mn><mn>4</mn></mfrac><mo>⁢</mo><mi>n</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>n</mi><mo>-</mo><mn>3</mn></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow></semantics></math></span> and <span class="math-container" id="8136782" visual_id="3910751"><math alttext="g(n)\geq\tfrac{1}{8}n(n-3)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>g</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></mrow><mo>≥</mo><mrow><mfrac><mn>1</mn><mn>8</mn></mfrac><mo>⁢</mo><mi>n</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>n</mi><mo>-</mo><mn>3</mn></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow></semantics></math></span>, so <span class="math-container" id="8136783" visual_id="119916"><math alttext="f(5)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>5</mn><mo stretchy="false">)</mo></mrow></mrow></semantics></math></span> is definitely <span class="math-container" id="8136784" visual_id="305"><math alttext="3" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>3</mn></semantics></math></span>, and it's not hard to show <span class="math-container" id="8136785" visual_id="3910752"><math alttext="g(5)=3" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>g</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>5</mn><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mn>3</mn></mrow></semantics></math></span> also. </td></tr><tr><td comment_id="1721289"> It looks like <span class="math-container" id="8136786" visual_id="1317604"><math alttext="f(6)=5" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>f</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>6</mn><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mn>5</mn></mrow></semantics></math></span> and <span class="math-container" id="8136787" visual_id="1307592"><math alttext="f(7)=9" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>f</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>7</mn><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mn>9</mn></mrow></semantics></math></span>. Example solutions: <span class="math-container" id="8136788" visual_id="3910753"><math alttext="0,3,5,1,3" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>,</mo><mn>3</mn><mo>,</mo><mn>5</mn><mo>,</mo><mn>1</mn><mo>,</mo><mn>3</mn></mrow></semantics></math></span> and <span class="math-container" id="8136789" visual_id="3910754"><math alttext="0,2,0,4,3,2,5,0,3" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>,</mo><mn>2</mn><mo>,</mo><mn>0</mn><mo>,</mo><mn>4</mn><mo>,</mo><mn>3</mn><mo>,</mo><mn>2</mn><mo>,</mo><mn>5</mn><mo>,</mo><mn>0</mn><mo>,</mo><mn>3</mn></mrow></semantics></math></span>. </td></tr><tr><td comment_id="1723383"> @Ryan My mistake, I messed up my calculations. </td></tr><tr><td comment_id="1723424"> Also consider that "in random order" is really a red herring up to relabeling. That should make computer experiments a lot easier... </td></tr><tr><td comment_id="1740247"> @chubakueno you're right. did you make any progress with it at all? </td></tr><tr><td comment_id="1759229"> Apart from a bruteforce search, I can't think of something better. @AndrewWoods may you explain your reasoning to me? </td></tr><tr><td comment_id="1760421"> @chubakueno We need a total of <span class="math-container" id="8136790" visual_id="14900"><math alttext="{n\choose 2}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>(</mo><mfrac linethickness="0pt"><mi>n</mi><mn>2</mn></mfrac><mo>)</mo></mrow></semantics></math></span> pairs of people to sit next to each other. With regard to <span class="math-container" id="8136850" visual_id="1"><math alttext="f" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>f</mi></semantics></math></span>, each time we perform a switch we add at most <span class="math-container" id="8136814" visual_id="358"><math alttext="2" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>2</mn></semantics></math></span> pairs. With regard to <span class="math-container" id="8136851" visual_id="627"><math alttext="g" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>g</mi></semantics></math></span>, each time we perform a switch we add at most <span class="math-container" id="8136794" visual_id="1253"><math alttext="4" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>4</mn></semantics></math></span> pairs. Since we already have <span class="math-container" id="8136941" visual_id="177"><math alttext="n" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>n</mi></semantics></math></span> pairs from the initial arrangement we have <span class="math-container" id="8136796" visual_id="3910755"><math alttext="2f(n)\geq{n\choose 2}-n" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mn>2</mn><mo>⁢</mo><mi>f</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></mrow><mo>≥</mo><mrow><mrow><mo>(</mo><mfrac linethickness="0pt"><mi>n</mi><mn>2</mn></mfrac><mo>)</mo></mrow><mo>-</mo><mi>n</mi></mrow></mrow></semantics></math></span> and <span class="math-container" id="8136797" visual_id="3910756"><math alttext="4g(n)\geq{n\choose 2}-n" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mn>4</mn><mo>⁢</mo><mi>g</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></mrow><mo>≥</mo><mrow><mrow><mo>(</mo><mfrac linethickness="0pt"><mi>n</mi><mn>2</mn></mfrac><mo>)</mo></mrow><mo>-</mo><mi>n</mi></mrow></mrow></semantics></math></span>, which reduces to <span class="math-container" id="8136798" visual_id="3910750"><math alttext="f(n)\geq\frac{1}{4}n(n-3)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>f</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></mrow><mo>≥</mo><mrow><mfrac><mn>1</mn><mn>4</mn></mfrac><mo>⁢</mo><mi>n</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>n</mi><mo>-</mo><mn>3</mn></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow></semantics></math></span> and <span class="math-container" id="8136799" visual_id="3910751"><math alttext="g(n)\geq\frac{1}{8}n(n-3)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>g</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></mrow><mo>≥</mo><mrow><mfrac><mn>1</mn><mn>8</mn></mfrac><mo>⁢</mo><mi>n</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>n</mi><mo>-</mo><mn>3</mn></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow></semantics></math></span>. </td></tr><tr><td comment_id="1763808"> @PeterWoolfitt cool! I am currently trying to come up with some algotithm or upper bound so that a computer search doesn't run forever even for small values of <span class="math-container" id="8136941" visual_id="177"><math alttext="n" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>n</mi></semantics></math></span>, but no luck... </td></tr><tr><td comment_id="1765577"> @chubakueno, one upper bound for <span class="math-container" id="8136852" visual_id="9133"><math alttext="f(n)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></mrow></semantics></math></span> is <span class="math-container" id="8136802" visual_id="3910757"><math alttext="\frac{1}{2}(n^{2}-3n+2)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>2</mn></mfrac><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mrow><msup><mi>n</mi><mn>2</mn></msup><mo>-</mo><mrow><mn>3</mn><mo>⁢</mo><mi>n</mi></mrow></mrow><mo>+</mo><mn>2</mn></mrow><mo stretchy="false">)</mo></mrow></mrow></semantics></math></span>.  Imagine <span class="math-container" id="8136803" visual_id="722703"><math alttext="1...n" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>⁢</mo><mi mathvariant="normal">…</mi><mo>⁢</mo><mi>n</mi></mrow></semantics></math></span> in a line; <span class="math-container" id="8136804" visual_id="3910758"><math alttext="(1--n)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>-</mo><mo>-</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></semantics></math></span> is the circle connection.  Move 1 all the way to between <span class="math-container" id="8136811" visual_id="588"><math alttext="n-1" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>-</mo><mn>1</mn></mrow></semantics></math></span> and <span class="math-container" id="8136941" visual_id="177"><math alttext="n" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>n</mi></semantics></math></span>.  That's <span class="math-container" id="8136807" visual_id="15794"><math alttext="n-2" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>-</mo><mn>2</mn></mrow></semantics></math></span> moves, and <span class="math-container" id="8136812" visual_id="342"><math alttext="1" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>1</mn></semantics></math></span> has all its neighbors, plus <span class="math-container" id="8136809" visual_id="3910759"><math alttext="(2--n)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>2</mn><mo>-</mo><mo>-</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></semantics></math></span> from the circle connection.  Bubble <span class="math-container" id="8136814" visual_id="358"><math alttext="2" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>2</mn></semantics></math></span> up until it is between <span class="math-container" id="8136811" visual_id="588"><math alttext="n-1" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>-</mo><mn>1</mn></mrow></semantics></math></span> and <span class="math-container" id="8136812" visual_id="342"><math alttext="1" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>1</mn></semantics></math></span> -- <span class="math-container" id="8136813" visual_id="26720"><math alttext="n-3" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>-</mo><mn>3</mn></mrow></semantics></math></span> moves.  <span class="math-container" id="8136814" visual_id="358"><math alttext="2" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>2</mn></semantics></math></span> has all connections and <span class="math-container" id="8136815" visual_id="3910760"><math alttext="(3--n)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>3</mn><mo>-</mo><mo>-</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></semantics></math></span> is the circle connection.  Keep going until you hit <span class="math-container" id="8136816" visual_id="3910761"><math alttext="(n-2)(n-1)(n-3)(n-4)...(2)(1)(n)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="false">(</mo><mrow><mi>n</mi><mo>-</mo><mn>2</mn></mrow><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>n</mi><mo>-</mo><mn>1</mn></mrow><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>n</mi><mo>-</mo><mn>3</mn></mrow><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>n</mi><mo>-</mo><mn>4</mn></mrow><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mi mathvariant="normal">…</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></mrow></semantics></math></span>. You should get <span class="math-container" id="8136817" visual_id="3910762"><math alttext="(n-2)+(n-3)+\dotsb+1" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="false">(</mo><mrow><mi>n</mi><mo>-</mo><mn>2</mn></mrow><mo stretchy="false">)</mo></mrow><mo>+</mo><mrow><mo stretchy="false">(</mo><mrow><mi>n</mi><mo>-</mo><mn>3</mn></mrow><mo stretchy="false">)</mo></mrow><mo>+</mo><mi mathvariant="normal">⋯</mi><mo>+</mo><mn>1</mn></mrow></semantics></math></span>. </td></tr><tr><td comment_id="1771988"> The sequence of the <span class="math-container" id="8136852" visual_id="9133"><math alttext="f(n)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></mrow></semantics></math></span> seems to be A200919 of the OEIS. No general formula is indicated there. </td></tr><tr><td comment_id="1816139"> @chubakueno edited the problem above, if you're still interested. I'm particularly interested in the pattern for <span class="math-container" id="8136819" visual_id="3910763"><math alttext="n=4,5,6,7,8" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mrow><mn>4</mn><mo>,</mo><mn>5</mn><mo>,</mo><mn>6</mn><mo>,</mo><mn>7</mn><mo>,</mo><mn>8</mn></mrow></mrow></semantics></math></span>; I'm confident that my best value is the actual value for those (unless I've written my exhaustive search wrongly). Tell me if you have any ideas! </td></tr><tr><td comment_id="1816141"> @PeterWoolfitt pinging you just in case you're still interested! </td></tr><tr><td comment_id="2046507"> Probably <span class="math-container" id="8136820" visual_id="3910764"><math alttext="f(n)=f(n-1)+\left\lceil\dfrac{n}{2}\right\rceil" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>f</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mrow><mrow><mi>f</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>n</mi><mo>-</mo><mn>1</mn></mrow><mo stretchy="false">)</mo></mrow></mrow><mo>+</mo><mrow><mo>⌈</mo><mstyle displaystyle="true"><mfrac><mi>n</mi><mn>2</mn></mfrac></mstyle><mo>⌉</mo></mrow></mrow></mrow></semantics></math></span> and <span class="math-container" id="8136821" visual_id="3910765"><math alttext="g(n)=g(n-1)+\left\lceil\dfrac{n}{2}\right\rceil" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>g</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mrow><mrow><mi>g</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>n</mi><mo>-</mo><mn>1</mn></mrow><mo stretchy="false">)</mo></mrow></mrow><mo>+</mo><mrow><mo>⌈</mo><mstyle displaystyle="true"><mfrac><mi>n</mi><mn>2</mn></mfrac></mstyle><mo>⌉</mo></mrow></mrow></mrow></semantics></math></span>. </td></tr><tr><td comment_id="2053768"> @user170039 do you mind elaborating how you got to that bound, or was it just a conjecture? </td></tr><tr><td comment_id="2054300"> @VincentTjeng: I haven't rigorously proved it so there may be some flaw in my argument. But suppose you know the value of <span class="math-container" id="8136852" visual_id="9133"><math alttext="f(n)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></mrow></semantics></math></span>. Then for <span class="math-container" id="8136823" visual_id="3493"><math alttext="f(n+1)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mo stretchy="false">)</mo></mrow></mrow></semantics></math></span> the problem is to satisfy the condition of sitting only for the <span class="math-container" id="8136831" visual_id="3796"><math alttext="(n+1)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mo stretchy="false">)</mo></mrow></semantics></math></span>-th person. The minimization of the places in which <span class="math-container" id="8136831" visual_id="3796"><math alttext="(n+1)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mo stretchy="false">)</mo></mrow></semantics></math></span>-th person can sit lead me to the formula. Similar argument applies to <span class="math-container" id="8136866" visual_id="6519"><math alttext="g(n)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></mrow></semantics></math></span>. </td></tr><tr><td comment_id="2112734"> Have you thought about my "solution"? </td></tr><tr><td comment_id="2116006"> @user170039 sorry for the delay. If I understand your solution correctly, you're suggesting that you can think of <span class="math-container" id="8136941" visual_id="177"><math alttext="n" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>n</mi></semantics></math></span> people making friends with each other in <span class="math-container" id="8136866" visual_id="6519"><math alttext="g(n)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></mrow></semantics></math></span> time, and then inserting the <span class="math-container" id="8136831" visual_id="3796"><math alttext="(n+1)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mo stretchy="false">)</mo></mrow></semantics></math></span>-th person who can get to know everyone in <span class="math-container" id="8136830" visual_id="3121072"><math alttext="\lceil(n+1)/2\rceil" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">⌈</mo><mrow><mrow><mo stretchy="false">(</mo><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mo stretchy="false">)</mo></mrow><mo>/</mo><mn>2</mn></mrow><mo stretchy="false">⌉</mo></mrow></semantics></math></span>. I don't think that this is correct, since you cannot simply ignore the <span class="math-container" id="8136831" visual_id="3796"><math alttext="(n+1)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mo stretchy="false">)</mo></mrow></semantics></math></span>-th person: even if he sat on the table and did not move, he would affect the friendships that are formed on the table (since you only make friends with people you sit directly next to). </td></tr><tr><td comment_id="2188547"> What would be the answer if we could permute the people any way we like (instead of just switch)? (This time, the lower bound will be <span class="math-container" id="8136832" visual_id="1827120"><math alttext="\frac{n-3}{2}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mfrac><mrow><mi>n</mi><mo>-</mo><mn>3</mn></mrow><mn>2</mn></mfrac></semantics></math></span>). Not sure if it helps, but switches could be viewed as the conjugation action of transpositions on <span class="math-container" id="8136941" visual_id="177"><math alttext="n" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>n</mi></semantics></math></span>-cycles, and the different scenarios in the problem are paths in the coset graph <span class="math-container" id="8136834" visual_id="3910766"><math alttext="S_{n}/&lt;(1,...,n)&gt;" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mi>n</mi></msub><mo>/</mo><mrow><mo>&lt;</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mi mathvariant="normal">…</mi><mo>,</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><mo>&gt;</mo></mrow></mrow></semantics></math></span> with transpositions as generators (adjacent transpositions in <span class="math-container" id="8136850" visual_id="1"><math alttext="f" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>f</mi></semantics></math></span> and any in <span class="math-container" id="8136851" visual_id="627"><math alttext="g" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>g</mi></semantics></math></span>). </td></tr><tr><td comment_id="2201807"> @Daugmented by permuting the people, do you mean to select a subset of the people and to rotate their position on the table while keeping the rest of the people fixed (and thus switching is a special case of permutation with sets of 2?) </td></tr><tr><td comment_id="2203029"> By permutation of the people, I meant a bijection <span class="math-container" id="8136846" visual_id="1294"><math alttext="\pi" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>π</mi></semantics></math></span> on the set of positions around the table moving the person at position <span class="math-container" id="8136892" visual_id="158"><math alttext="i" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>i</mi></semantics></math></span> to position <span class="math-container" id="8136848" visual_id="468025"><math alttext="\pi(i)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></mrow></semantics></math></span>. The set of such permutation on <span class="math-container" id="8136941" visual_id="177"><math alttext="n" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>n</mi></semantics></math></span> positions is called the symmetric group, denoted <span class="math-container" id="8136843" visual_id="4658"><math alttext="S_{n}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>S</mi><mi>n</mi></msub></semantics></math></span>. It should be easier to solve now, with something close to <span class="math-container" id="8136842" visual_id="15787"><math alttext="n/2" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>/</mo><mn>2</mn></mrow></semantics></math></span>. </td></tr><tr><td comment_id="2203031"> Maybe the strategy used for all permutations would give some insight for your problem? The comment about the coset graph, meant there was an algebraic representation of such permutations as an action of <span class="math-container" id="8136843" visual_id="4658"><math alttext="S_{n}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>S</mi><mi>n</mi></msub></semantics></math></span> by conjugation on <span class="math-container" id="8136941" visual_id="177"><math alttext="n" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>n</mi></semantics></math></span>-cycles (where <span class="math-container" id="8136941" visual_id="177"><math alttext="n" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>n</mi></semantics></math></span>-cycles correspond with an arrangement of the people around the table and conjugation by a permutation <span class="math-container" id="8136846" visual_id="1294"><math alttext="\pi" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>π</mi></semantics></math></span> is exactly moving the person at position <span class="math-container" id="8136892" visual_id="158"><math alttext="i" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>i</mi></semantics></math></span> to position <span class="math-container" id="8136848" visual_id="468025"><math alttext="\pi(i)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></mrow></semantics></math></span>. With an analog for the switch action using transpositions <span class="math-container" id="8136849" visual_id="3764654"><math alttext="(i,j)\in S_{n}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="false">(</mo><mi>i</mi><mo>,</mo><mi>j</mi><mo stretchy="false">)</mo></mrow><mo>∈</mo><msub><mi>S</mi><mi>n</mi></msub></mrow></semantics></math></span> which lead to the coset graph). </td></tr><tr><td comment_id="3048892"> I still don't understand why we have two different functions. What are <span class="math-container" id="8136850" visual_id="1"><math alttext="f" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>f</mi></semantics></math></span> and <span class="math-container" id="8136851" visual_id="627"><math alttext="g" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>g</mi></semantics></math></span> and there meaning? </td></tr><tr><td comment_id="3049059"> @hlapointe <span class="math-container" id="8136852" visual_id="9133"><math alttext="f(n)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></mrow></semantics></math></span> refers to the number of switches you need when you can only switch people who are sitting next to each other, and <span class="math-container" id="8136866" visual_id="6519"><math alttext="g(n)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></mrow></semantics></math></span> to the number of switches you need when you can switch any pair of people. For a given value of <span class="math-container" id="8136941" visual_id="177"><math alttext="n" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>n</mi></semantics></math></span>, we would expect <span class="math-container" id="8136855" visual_id="327747"><math alttext="f(n)\geq g(n)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>f</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></mrow><mo>≥</mo><mrow><mi>g</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></mrow></mrow></semantics></math></span> </td></tr><tr><td comment_id="3053397"> A related problem is that of "acquaintance time" on graphs.  The difference is that for acquaintance time, multiple disjoint pairs of people are allowed to change seats at once in a single time step (which might actually fit your dinner party model better).  In "Acquaintance Time of a Graph" (http://arxiv.org/pdf/1302.2787v4.pdf ) Benjamini, Shinkar, and Tsur show that on the path (and therefore on the cycle) everyone can be acquainted with everyone else in time <span class="math-container" id="8136856" visual_id="4003"><math alttext="O(n)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></mrow></semantics></math></span>. </td></tr><tr><td comment_id="3067402"> A toy to play with https://jsfiddle.net/zn1f30mv/1/embedded/result/ </td></tr><tr><td comment_id="3309086"> 13 - 18, [(4,8)(3,6)(3,10)(8,13)(5,8)(2,8)(9,13)(3,11)(7,12)(4,8)(2,6)(2,12)(4,9)(6,10)(1,7)(6,11)(3,6)(1,6)]      14 - 21, [(9,12)(1,6)(1,10)(3,9)(8,14)(5,13)(8,13)(3,7)(4,11)(5,9)(1,4)(3,8)(2,13)(10,13)(6,12)(1,11)(5,8)(2,11)(7,12)(4,8)(8,14)]  15 - 25, [(8,12)(9,14)(3,15)(3,9)(1,7)(11,15)(3,15)(2,9)(6,14)(1,5)(1,11)(3,14)(9,12)(3,13)(4,7)(8,12)(4,10)(4,11)(10,13)(1,13)(7,10)(1,9)(3,14)(5,13)(5,8)]  16 - 29, [(3,10)(7,15)(10,16)(3,14)(5,13)(2,14)(6,11)(2,9)(2,12)(7,14)(2,8)(4,13)(1,4)(5,15)(8,11)(10,14)(2,14)(6,13)(6,12)(5,10)(10,16)(2,13)(7,14)(8,11)(4,10)(4,14)(2,10)(2,11)(6,14)] </td></tr><tr><td comment_id="3347249"> Ran out of characters in the last comment. To summarize, for n=13..16 I found solutions with one less swap than what you have listed. </td></tr><tr><td comment_id="3352352"> I think that the swaps I have up there are far from optimal - thanks for showing that the bound can be pushed down slightly. </td></tr><tr><td comment_id="3365947"> This looks like it could be related to [the Futurama Theorem](https://en.wikipedia.org/wiki/The_Prisoner_of_Benda#The_theorem). </td></tr><tr><td comment_id="3657276"> I think you only really *truly* know somebody once you've sat on both their left *and* their right. Then the minimum number of moves is much simpler to calculate! </td></tr><tr><td comment_id="3930313"> I would like to point out that for case two, any people who have sat next to everyone else could be considered an empty seat, since no one else needs to sit by them. You can then use this idea of empty seats to possibly generalize the case to <span class="math-container" id="8136941" visual_id="177"><math alttext="n" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>n</mi></semantics></math></span> people and <span class="math-container" id="8136858" visual_id="20"><math alttext="m" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>m</mi></semantics></math></span> chairs, where <span class="math-container" id="8136859" visual_id="1776"><math alttext="m\geq n" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>≥</mo><mi>n</mi></mrow></semantics></math></span>. This is just an idea that might help. </td></tr><tr><td comment_id="4309140"> A few observations: It seems that there is always an optimal sequence for the second problem even if we require that one specific person never moves (verified for <span class="math-container" id="8136867" visual_id="3910767"><math alttext="4\leq n\leq 12" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo>≤</mo><mi>n</mi><mo>≤</mo><mn>12</mn></mrow></semantics></math></span>, sans possible coding mistakes). Also, my quick search suggests that the value of <span class="math-container" id="8136870" visual_id="2349711"><math alttext="g(8)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>8</mn><mo stretchy="false">)</mo></mrow></mrow></semantics></math></span> in the table is incorrect and it should be <span class="math-container" id="8136862" visual_id="3910768"><math alttext="g(8)=6" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>g</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>8</mn><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mn>6</mn></mrow></semantics></math></span> (e.g. <span class="math-container" id="8136863" visual_id="3910769"><math alttext="[(1,2),(4,7),(2,5),(3,4),(5,6),(1,2)]" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow><mo>,</mo><mrow><mo stretchy="false">(</mo><mn>4</mn><mo>,</mo><mn>7</mn><mo stretchy="false">)</mo></mrow><mo>,</mo><mrow><mo stretchy="false">(</mo><mn>2</mn><mo>,</mo><mn>5</mn><mo stretchy="false">)</mo></mrow><mo>,</mo><mrow><mo stretchy="false">(</mo><mn>3</mn><mo>,</mo><mn>4</mn><mo stretchy="false">)</mo></mrow><mo>,</mo><mrow><mo stretchy="false">(</mo><mn>5</mn><mo>,</mo><mn>6</mn><mo stretchy="false">)</mo></mrow><mo>,</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow><mo stretchy="false">]</mo></mrow></semantics></math></span>). Similarly for <span class="math-container" id="8136924" visual_id="5968"><math alttext="n=12" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>12</mn></mrow></semantics></math></span>, my search suggests <span class="math-container" id="8136873" visual_id="3910770"><math alttext="g(12)=14" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>g</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>12</mn><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mn>14</mn></mrow></semantics></math></span>. The full sequence of values of <span class="math-container" id="8136866" visual_id="6519"><math alttext="g(n)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></mrow></semantics></math></span> for <span class="math-container" id="8136867" visual_id="3910767"><math alttext="4\leq n\leq 12" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo>≤</mo><mi>n</mi><mo>≤</mo><mn>12</mn></mrow></semantics></math></span> would then be <span class="math-container" id="8136868" visual_id="3910771"><math alttext="1,3,4,4,6,8,10,12,14" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>,</mo><mn>3</mn><mo>,</mo><mn>4</mn><mo>,</mo><mn>4</mn><mo>,</mo><mn>6</mn><mo>,</mo><mn>8</mn><mo>,</mo><mn>10</mn><mo>,</mo><mn>12</mn><mo>,</mo><mn>14</mn></mrow></semantics></math></span>. </td></tr><tr><td comment_id="4309374"> (and I forgot to mention -- the pairs in my <span class="math-container" id="8136870" visual_id="2349711"><math alttext="g(8)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>8</mn><mo stretchy="false">)</mo></mrow></mrow></semantics></math></span> example are identifiers of _people_ who swap, rather than _seats_) </td></tr><tr><td comment_id="4316084"> @PeterKošinár Bravo. I checked the value for <span class="math-container" id="8136870" visual_id="2349711"><math alttext="g(8)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>8</mn><mo stretchy="false">)</mo></mrow></mrow></semantics></math></span> by hand, and you were correct. 1) How did you run the search? 2) Could you link to the code supporting your conjecture (which I believe to be correct) that you can fix an  individual's position? (I'll update the main table soon). 3) It appears from this example that a greedy approach is not always best - in this case we start with a switch that only generates 2 new friends. </td></tr><tr><td comment_id="4321662"> @AndrewSzymczak - would you care to share the code you used to find your swaps? My code took a relatively long time to match your performance, so if you have something faster that might be helpful. </td></tr><tr><td comment_id="4322890"> @VincentTjeng my code is pretty slow too, and written in Python to boot. I'm just doing a randomized-greedy method. To choose the next swap I score each possible swap by the number of new friends, and out of all the highest scored I pick one at random. Pretty sure I ran my code overnight to get the values. I'm going to play around with this tonight and see if I can do better, but here is the current code: https://gist.github.com/AndrewSzymczak/6c9613b0dd4021ddfad71dbb529fe851 </td></tr><tr><td comment_id="4322985"> @VincentTjeng it turns out that my greedy algorithm isn't even guaranteed to find the optimal solution. Doing an exhaustive search of the full greedy space for n=8 only finds the 7-swap solution. </td></tr><tr><td comment_id="4326672"> A little further improvement (using the standard "seat" notation now): <span class="math-container" id="8136871" visual_id="3910772"><math alttext="g(13)=17" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>g</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>13</mn><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mn>17</mn></mrow></semantics></math></span> (= the lower bound); as demonstrated by <span class="math-container" id="8136872" visual_id="3910773"><math alttext="[(1,2)(1,7)(3,9)(6,12)(8,11)(8,12)(1,11)(4,12)(9,12)(6,10)(7,10)(1,6)(2,8)(5,9% )(3,8)(8,12)(9,12)]" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mrow><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>7</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>3</mn><mo>,</mo><mn>9</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>6</mn><mo>,</mo><mn>12</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>8</mn><mo>,</mo><mn>11</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>8</mn><mo>,</mo><mn>12</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>11</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>4</mn><mo>,</mo><mn>12</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>9</mn><mo>,</mo><mn>12</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>6</mn><mo>,</mo><mn>10</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>7</mn><mo>,</mo><mn>10</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>6</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>2</mn><mo>,</mo><mn>8</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>5</mn><mo>,</mo><mn>9</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>3</mn><mo>,</mo><mn>8</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>8</mn><mo>,</mo><mn>12</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>9</mn><mo>,</mo><mn>12</mn><mo stretchy="false">)</mo></mrow></mrow><mo stretchy="false">]</mo></mrow></semantics></math></span>. As for <span class="math-container" id="8136873" visual_id="3910770"><math alttext="g(12)=14" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>g</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>12</mn><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mn>14</mn></mrow></semantics></math></span>, one such sequence is <span class="math-container" id="8136874" visual_id="3910774"><math alttext="[(1,4)(1,9)(4,7)(7,3)(7,11)(1,10)(4,1)(1,8)(4,7)(6,1)(10,4)(5,1)(2,11)(9,4)]" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mrow><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>4</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>9</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>4</mn><mo>,</mo><mn>7</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>7</mn><mo>,</mo><mn>3</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>7</mn><mo>,</mo><mn>11</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>10</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>4</mn><mo>,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>8</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>4</mn><mo>,</mo><mn>7</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>6</mn><mo>,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>10</mn><mo>,</mo><mn>4</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>5</mn><mo>,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>2</mn><mo>,</mo><mn>11</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>9</mn><mo>,</mo><mn>4</mn><mo stretchy="false">)</mo></mrow></mrow><mo stretchy="false">]</mo></mrow></semantics></math></span>. Both sequences satisfy the one-person-doesn't-move property too. My approach was just pretty straight-foward exhaustive search (I am currently playing with a few heuristics for speeding it up, but without much success yet). </td></tr><tr><td comment_id="4327630"> @PeterKošinár It would be great if you could share your code when you have some time. If understand correctly, you carry out an exhaustive search where you try *every* possible combination with one person remaining in place? If you've run the exhaustive search for <span class="math-container" id="8136875" visual_id="3910775"><math alttext="n=9,10,11" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mrow><mn>9</mn><mo>,</mo><mn>10</mn><mo>,</mo><mn>11</mn></mrow></mrow></semantics></math></span> and not found something better, that's really interesting - I would have expected (without much evidence) the gap between the lower bound and the actual optimal value to be monotonically increasing. </td></tr><tr><td comment_id="4349170"> <span class="math-container" id="8136936" visual_id="3910776"><math alttext="g(14)=20" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>g</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>14</mn><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mn>20</mn></mrow></semantics></math></span>: <span class="math-container" id="8136877" visual_id="3910777"><math alttext="(1,4)(1,5)(1,8)(1,12)(4,11)(4,12)(9,13)(1,12)(9,12)(6,10)(6,9)(1,9)(4,7)(4,13)% (3,13)(3,10)(2,13)(2,7)(3,13)(4,12)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>4</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>5</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>8</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>12</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>4</mn><mo>,</mo><mn>11</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>4</mn><mo>,</mo><mn>12</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>9</mn><mo>,</mo><mn>13</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>12</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>9</mn><mo>,</mo><mn>12</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>6</mn><mo>,</mo><mn>10</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>6</mn><mo>,</mo><mn>9</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>9</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>4</mn><mo>,</mo><mn>7</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>4</mn><mo>,</mo><mn>13</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>3</mn><mo>,</mo><mn>13</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>3</mn><mo>,</mo><mn>10</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>2</mn><mo>,</mo><mn>13</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>2</mn><mo>,</mo><mn>7</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>3</mn><mo>,</mo><mn>13</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>4</mn><mo>,</mo><mn>12</mn><mo stretchy="false">)</mo></mrow></mrow></semantics></math></span> (feel free to verify independently); found by greedy search with one-fixed-seat extra condition. </td></tr><tr><td comment_id="4349630"> Haven't checked yours, but I obtained <span class="math-container" id="8136936" visual_id="3910776"><math alttext="g(14)=20" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>g</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>14</mn><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mn>20</mn></mrow></semantics></math></span> with <span class="math-container" id="8136879" visual_id="3910778"><math alttext="(7,10),(5,11),(1,6),(4,11),(1,7),(10,13),(7,10),(4,8),(2,12),(6,12),(3,6),(0,7% ),(2,8),(7,10),(0,6),(1,12),(4,9),(4,10),(1,9),(1,10)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="false">(</mo><mn>7</mn><mo>,</mo><mn>10</mn><mo stretchy="false">)</mo></mrow><mo>,</mo><mrow><mo stretchy="false">(</mo><mn>5</mn><mo>,</mo><mn>11</mn><mo stretchy="false">)</mo></mrow><mo>,</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>6</mn><mo stretchy="false">)</mo></mrow><mo>,</mo><mrow><mo stretchy="false">(</mo><mn>4</mn><mo>,</mo><mn>11</mn><mo stretchy="false">)</mo></mrow><mo>,</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>7</mn><mo stretchy="false">)</mo></mrow><mo>,</mo><mrow><mo stretchy="false">(</mo><mn>10</mn><mo>,</mo><mn>13</mn><mo stretchy="false">)</mo></mrow><mo>,</mo><mrow><mo stretchy="false">(</mo><mn>7</mn><mo>,</mo><mn>10</mn><mo stretchy="false">)</mo></mrow><mo>,</mo><mrow><mo stretchy="false">(</mo><mn>4</mn><mo>,</mo><mn>8</mn><mo stretchy="false">)</mo></mrow><mo>,</mo><mrow><mo stretchy="false">(</mo><mn>2</mn><mo>,</mo><mn>12</mn><mo stretchy="false">)</mo></mrow><mo>,</mo><mrow><mo stretchy="false">(</mo><mn>6</mn><mo>,</mo><mn>12</mn><mo stretchy="false">)</mo></mrow><mo>,</mo><mrow><mo stretchy="false">(</mo><mn>3</mn><mo>,</mo><mn>6</mn><mo stretchy="false">)</mo></mrow><mo>,</mo><mrow><mo stretchy="false">(</mo><mn>0</mn><mo>,</mo><mn>7</mn><mo stretchy="false">)</mo></mrow><mo>,</mo><mrow><mo stretchy="false">(</mo><mn>2</mn><mo>,</mo><mn>8</mn><mo stretchy="false">)</mo></mrow><mo>,</mo><mrow><mo stretchy="false">(</mo><mn>7</mn><mo>,</mo><mn>10</mn><mo stretchy="false">)</mo></mrow><mo>,</mo><mrow><mo stretchy="false">(</mo><mn>0</mn><mo>,</mo><mn>6</mn><mo stretchy="false">)</mo></mrow><mo>,</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>12</mn><mo stretchy="false">)</mo></mrow><mo>,</mo><mrow><mo stretchy="false">(</mo><mn>4</mn><mo>,</mo><mn>9</mn><mo stretchy="false">)</mo></mrow><mo>,</mo><mrow><mo stretchy="false">(</mo><mn>4</mn><mo>,</mo><mn>10</mn><mo stretchy="false">)</mo></mrow><mo>,</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>9</mn><mo stretchy="false">)</mo></mrow><mo>,</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>10</mn><mo stretchy="false">)</mo></mrow></mrow></semantics></math></span>, so it seems likely to be correct. </td></tr><tr><td comment_id="4350407"> Have one for <span class="math-container" id="8136880" visual_id="3910779"><math alttext="g(18)\leq 36" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>g</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>18</mn><mo stretchy="false">)</mo></mrow></mrow><mo>≤</mo><mn>36</mn></mrow></semantics></math></span>: <span class="math-container" id="8136881" visual_id="3910780"><math alttext="(1,4)(1,5)(1,8)(1,7)(1,10)(1,6)(1,12)(1,9)(1,13)(1,14)(1,11)(1,15)(2,17)(2,7)(% 2,6)(2,13)(4,14)(7,11)(11,16)(4,15)(11,14)(2,10)(4,9)(3,13)(7,15)(4,15)(5,15)(% 2,8)(1,14)(5,13)(1,5)(5,11)(9,15)(5,15)(11,16)(12,15)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>4</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>5</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>8</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>7</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>10</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>6</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>12</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>9</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>13</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>14</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>11</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>15</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>2</mn><mo>,</mo><mn>17</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>2</mn><mo>,</mo><mn>7</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>2</mn><mo>,</mo><mn>6</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>2</mn><mo>,</mo><mn>13</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>4</mn><mo>,</mo><mn>14</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>7</mn><mo>,</mo><mn>11</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>11</mn><mo>,</mo><mn>16</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>4</mn><mo>,</mo><mn>15</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>11</mn><mo>,</mo><mn>14</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>2</mn><mo>,</mo><mn>10</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>4</mn><mo>,</mo><mn>9</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>3</mn><mo>,</mo><mn>13</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>7</mn><mo>,</mo><mn>15</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>4</mn><mo>,</mo><mn>15</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>5</mn><mo>,</mo><mn>15</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>2</mn><mo>,</mo><mn>8</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>14</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>5</mn><mo>,</mo><mn>13</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>5</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>5</mn><mo>,</mo><mn>11</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>9</mn><mo>,</mo><mn>15</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>5</mn><mo>,</mo><mn>15</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>11</mn><mo>,</mo><mn>16</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>12</mn><mo>,</mo><mn>15</mn><mo stretchy="false">)</mo></mrow></mrow></semantics></math></span>. </td></tr><tr><td comment_id="4364559"> And further one <span class="math-container" id="8136882" visual_id="3910781"><math alttext="g(18)\leq 35" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>g</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>18</mn><mo stretchy="false">)</mo></mrow></mrow><mo>≤</mo><mn>35</mn></mrow></semantics></math></span>: <span class="math-container" id="8136883" visual_id="3910782"><math alttext="(1,4)(1,5)(1,8)(1,7)(1,10)(1,6)(1,12)(1,9)(1,13)(1,14)(1,11)(3,17)(2,17)(3,14)% (3,15)(3,9)(7,15)(6,10)(2,9)(2,16)(2,5)(4,11)(5,9)(10,13)(1,9)(3,14)(10,15)(5,% 11)(4,9)(3,7)(3,9)(7,13)(12,15)(1,16)(2,11)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>4</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>5</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>8</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>7</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>10</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>6</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>12</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>9</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>13</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>14</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>11</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>3</mn><mo>,</mo><mn>17</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>2</mn><mo>,</mo><mn>17</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>3</mn><mo>,</mo><mn>14</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>3</mn><mo>,</mo><mn>15</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>3</mn><mo>,</mo><mn>9</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>7</mn><mo>,</mo><mn>15</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>6</mn><mo>,</mo><mn>10</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>2</mn><mo>,</mo><mn>9</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>2</mn><mo>,</mo><mn>16</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>2</mn><mo>,</mo><mn>5</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>4</mn><mo>,</mo><mn>11</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>5</mn><mo>,</mo><mn>9</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>10</mn><mo>,</mo><mn>13</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>9</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>3</mn><mo>,</mo><mn>14</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>10</mn><mo>,</mo><mn>15</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>5</mn><mo>,</mo><mn>11</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>4</mn><mo>,</mo><mn>9</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>3</mn><mo>,</mo><mn>7</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>3</mn><mo>,</mo><mn>9</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>7</mn><mo>,</mo><mn>13</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>12</mn><mo>,</mo><mn>15</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>16</mn><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>2</mn><mo>,</mo><mn>11</mn><mo stretchy="false">)</mo></mrow></mrow></semantics></math></span>. </td></tr>
</tbody>
</table>
</div>
</div>
<hr style="border-top: 3px double #8c8b8b"/>
</div>
<div class="row">
<div class="answer">
<div answer_id="2107725" id="answer">
<p>I didn't want to keep adding more and more comments, so I'll just post all my thoughts here. @PeterKošinár @VincentTjeng</p> <p>States are only different if their underlying friend-graphs are non-isomorphic -- permuting the people-labels (or seat-labels) does not change the state you're in. You can drastically reduce your search space this way. For n=8 there are only ~3000 states within 6 swaps of the starting position. As an example, consider the very first swap. There are really only <span class="math-container" id="8136884" visual_id="4812"><math alttext="\lfloor\tfrac{n}{2}\rfloor" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">⌊</mo><mfrac><mi>n</mi><mn>2</mn></mfrac><mo stretchy="false">⌋</mo></mrow></semantics></math></span> different swaps to make.</p> <p>The problem is coming up with a canonical-representation for graphs. Fortunately, to reduce your state space you don't need a truly canonical representation. You only need to make sure you don't equate two non-isomorphic graphs. It's okay if isomorphic <span class="math-container" id="8136885" visual_id="22178"><math alttext="A\sim B" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>∼</mo><mi>B</mi></mrow></semantics></math></span> have different representations - it just means your search space has a few redundancies. In any case, I've written my own method in Python because I couldn't get any packages to work (I'll post it once I clean it up). A port to C with <a href="http://pallini.di.uniroma1.it/" rel="nofollow noreferrer">nauty</a> would speed up the algorithm by a factor of 200+. </p> <p>One naive canonicalization method is to permute the graph in all <span class="math-container" id="8136886" visual_id="755"><math alttext="n!" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>!</mo></mrow></semantics></math></span> ways and take the one that results in the lexicographically smallest adjacency list (using the binary sequence '001100....' as your representation). I use the same method, but I have a way to limit the number of valid permutations (down from <span class="math-container" id="8136887" visual_id="755"><math alttext="n!" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>!</mo></mrow></semantics></math></span> to ~<span class="math-container" id="8136888" visual_id="3802"><math alttext="n^{2}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>n</mi><mn>2</mn></msup></semantics></math></span> on average). For example, since isomorphic graphs have the same degree sequence, we can enforce that the nodes are labelled by increasing order of degree. This by itself leads to a fairly drastic reduction of valid permutations. My idea iterates on that and is similar to finding the <em>coarsest equitable partition</em> that is described in <a href="http://www.math.unl.edu/~aradcliffe1/Papers/Canonical.pdf" rel="nofollow noreferrer">this paper</a>. The paper's algorithm (implemented by nauty) then goes on to do other stuff that I don't do, namely creating a search tree.</p> <p>My exhaustive search algorithm begins in the starting position and runs a breadth-first-search of the state-space. I process a single state by making all possible swaps and then converting the resulting states to canonical form. The <span class="math-container" id="8136889" visual_id="158"><math alttext="i" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>i</mi></semantics></math></span>th step of the algorithm takes <span class="math-container" id="8136890" visual_id="3910783"><math alttext="D_{i}\rightarrow D_{i+1}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>D</mi><mi>i</mi></msub><mo>→</mo><msub><mi>D</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></semantics></math></span> where <span class="math-container" id="8136891" visual_id="13487"><math alttext="D_{i}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>D</mi><mi>i</mi></msub></semantics></math></span> is the set of all states that are at a distance <span class="math-container" id="8136892" visual_id="158"><math alttext="i" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>i</mi></semantics></math></span> from the starting position. The algorithm terminates once the final state has been found (complete-graph <span class="math-container" id="8136893" visual_id="6867"><math alttext="K_{n}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>K</mi><mi>n</mi></msub></semantics></math></span>). Of course, an exhaustive search will no longer be tractable for <span class="math-container" id="8136894" visual_id="328372"><math alttext="n&amp;gt;12" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>n</mi><mo>&gt;</mo></mrow><mn>12</mn></mrow></semantics></math></span>, but you can easily turn it into a monte-carlo-type method.  </p> <p>For <span class="math-container" id="8136895" visual_id="3910784"><math alttext="n=10..12" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>10..12</mn></mrow></semantics></math></span> the search space becomes too large to store in memory. So I combine my BFS with @PeterKošinár's memoryless DFS method. I run the BFS for the first 4 swaps and then run a DFS starting from each state in <span class="math-container" id="8136896" visual_id="23351"><math alttext="D_{4}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>D</mi><mn>4</mn></msub></semantics></math></span> (without keeping track of visited states). In the DFS we only make moves that add atleast 1 friend, and we prune states that can not possible beat the best solution found. We can make a max number of 8 friends per swap (counting duplicates (i,j) and (j,i)). So if we are in a state of <span class="math-container" id="8136897" visual_id="706"><math alttext="s" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>s</mi></semantics></math></span> swaps and <span class="math-container" id="8136898" visual_id="1073"><math alttext="e" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>e</mi></semantics></math></span> friends, and we've found a solution with <span class="math-container" id="8136899" visual_id="398713"><math alttext="s^{*}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>s</mi><mo>*</mo></msup></semantics></math></span> swaps, then we can prune if <span class="math-container" id="8136900" visual_id="3910785"><math alttext="s+\lceil(n^{2}-e)/8\rceil\geq s^{*}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>s</mi><mo>+</mo><mrow><mo stretchy="false">⌈</mo><mrow><mrow><mo stretchy="false">(</mo><mrow><msup><mi>n</mi><mn>2</mn></msup><mo>-</mo><mi>e</mi></mrow><mo stretchy="false">)</mo></mrow><mo>/</mo><mn>8</mn></mrow><mo stretchy="false">⌉</mo></mrow></mrow><mo>≥</mo><msup><mi>s</mi><mo>*</mo></msup></mrow></semantics></math></span>.<br/> <a href="https://drive.google.com/uc?export=download&amp;id=0B4l-WgeGmpNVRGdSUHhkNnI2YzA" rel="nofollow noreferrer"><span class="math-container" id="8136901" visual_id="29175"><math alttext="n=14" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>14</mn></mrow></semantics></math></span> distinct 4-swap sequences</a><br/> <a href="https://drive.google.com/uc?export=download&amp;id=0B4l-WgeGmpNVNFNaSkp0clRLX1E" rel="nofollow noreferrer"><span class="math-container" id="8136902" visual_id="95556"><math alttext="n=15" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>15</mn></mrow></semantics></math></span> distinct 4-swap sequences</a></p> <p>I've run an exhaustive search for n=4..12 and can confirm the bounds we found as the true lower bounds. Here are the lexicographically smallest solutions (indices refer to seat-swaps).</p> <ul> <li>4 <span class="math-container" id="8136903" visual_id="286"><math alttext="\quad" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi></mi></semantics></math></span> - <span class="math-container" id="8136904" visual_id="286"><math alttext="\quad" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi></mi></semantics></math></span> 1.[(1,2)]</li> <li>5  <span class="math-container" id="8136905" visual_id="286"><math alttext="\quad" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi></mi></semantics></math></span> - <span class="math-container" id="8136906" visual_id="286"><math alttext="\quad" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi></mi></semantics></math></span>  3.[(1,2) (1,3) (1,4)] </li> <li>6  <span class="math-container" id="8136907" visual_id="286"><math alttext="\quad" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi></mi></semantics></math></span> - <span class="math-container" id="8136908" visual_id="286"><math alttext="\quad" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi></mi></semantics></math></span>  4.[(1,2) (1,3) (1,5) (1,4)] </li> <li>7  <span class="math-container" id="8136909" visual_id="286"><math alttext="\quad" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi></mi></semantics></math></span> - <span class="math-container" id="8136910" visual_id="286"><math alttext="\quad" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi></mi></semantics></math></span>  4.[(1,4) (1,5) (3,6) (2,6)] </li> <li>8  <span class="math-container" id="8136911" visual_id="286"><math alttext="\quad" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi></mi></semantics></math></span> - <span class="math-container" id="8136912" visual_id="286"><math alttext="\quad" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi></mi></semantics></math></span>  6.[(1,2) (4,7) (1,5) (3,7) (1,6) (2,5)] </li> <li>9  <span class="math-container" id="8136913" visual_id="286"><math alttext="\quad" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi></mi></semantics></math></span> - <span class="math-container" id="8136914" visual_id="286"><math alttext="\quad" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi></mi></semantics></math></span>  8.[(1,4) (1,5) (1,7) (1,6) (3,8) (2,8) (3,6) (1,5)]</li> <li>10 <span class="math-container" id="8136915" visual_id="286"><math alttext="\quad" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi></mi></semantics></math></span> - <span class="math-container" id="8136916" visual_id="286"><math alttext="\quad" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi></mi></semantics></math></span> 10.[(1,2) (1,5) (1,6) (3,8) (4,10) (3,7) (5,8) (3,9) (3,10) (1,6)]</li> <li>11 <span class="math-container" id="8136917" visual_id="286"><math alttext="\quad" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi></mi></semantics></math></span> - <span class="math-container" id="8136918" visual_id="286"><math alttext="\quad" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi></mi></semantics></math></span> 12.[(1,2) (1,4) (3,7) (6,9) (6,10) (1,5) (2,7) (3,11) (4,9) (4,8) (6,10) (4,11)]</li> <li>12 <span class="math-container" id="8136919" visual_id="286"><math alttext="\quad" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi></mi></semantics></math></span> - <span class="math-container" id="8136920" visual_id="286"><math alttext="\quad" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi></mi></semantics></math></span> 14.[(1,2) (5,10) (1,6) (4,10) (1,7) (8,11) (4,12) (3,12) (1,9) (1,5) (7,11) (1,8) (5,10) (2,6)]</li> </ul>
</div>
<hr/>
<div id="answer-comments">
<table>
<tbody>
<tr><td comment_id="4334635"> Thanks for writing this up! Could you elaborate on your representation for the graphs (once you've cleaned up the code) - I think that'll really add to this answer. Also, when you say that an exhaustive search is no longer feasible for <span class="math-container" id="8136921" visual_id="3910786"><math alttext="n&gt;13" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>&gt;</mo><mn>13</mn></mrow></semantics></math></span>, you do mean that it's possible but will just take much more time, right? </td></tr><tr><td comment_id="4334875"> Post updated with a brief explanation of my canonicalization function. For n=13 there are 50,502,031,367,952 non-isomorphic graphs. By empirical results I'm guessing the state-space is ~1/5 that. So... yea even 13 is probably not tractable. </td></tr><tr><td comment_id="4335894"> Thank you for the list of solutions -- it matches what my exhaustive search coded in C found (so either we both have the same mistake in our codes, or both work well ;-) ). My search was not using any special heuristics apart from the one which compared number of missing edges in the graph with the total number of steps remaining until the best known solution (since each steps adds at most four edges); did you employ something such to reduce the number of explored states? </td></tr><tr><td comment_id="4335902"> Also, it would be nice to have the best results found for <span class="math-container" id="8136928" visual_id="3433"><math alttext="n=10" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>10</mn></mrow></semantics></math></span> and <span class="math-container" id="8136929" visual_id="65098"><math alttext="n=11" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>11</mn></mrow></semantics></math></span> confirmed by independent exhaustive search; although I trust my program, mistakes can always happen :-) Of course, <span class="math-container" id="8136924" visual_id="5968"><math alttext="n=12" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>12</mn></mrow></semantics></math></span> and <span class="math-container" id="8136932" visual_id="5967"><math alttext="n=13" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>13</mn></mrow></semantics></math></span> aren't necessary, since they already match the proven lower bound and beyond that the (exhaustive) search really looks intractable so far. </td></tr><tr><td comment_id="4337382"> @PeterKošinár how exactly are you representing states in your search -- are you converting the graphs to canonical form as well? If you're not reducing the state space, then you must be running an A* search? I just sped up my canonicalization code and can run 10-11 in reasonable time, but I'm having memory issues now. I know I can use a DFS to reduce memory by a factor of <span class="math-container" id="8136926" visual_id="173797"><math alttext="\mathcal{O}(n^{2})" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi class="ltx_font_mathcaligraphic">𝒪</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow></mrow></semantics></math></span> for <span class="math-container" id="8136941" visual_id="177"><math alttext="n" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>n</mi></semantics></math></span> seats and perhaps even better using a topological iteration. But I think A* is probably my best bet for both runtime and memory. Implementing now. </td></tr><tr><td comment_id="4337514"> In fact, I was just using pure backtracking with _no_ optimization when it comes to states -- both isomorphic and even _identical_ states were visited more than once. The only pruning applied was the one I mentioned (i.e. returning if I can be sure the remaining steps cannot produce sufficient number of edges) and only taking a swap if it produced at least one new edge. </td></tr><tr><td comment_id="4338044"> Oh I see, so you are iterating depth-first over all swap sequences and pruning based on the current best solution found. I can actually combine that with my shortest-path algorithm and get something running right now. Good stuff. </td></tr><tr><td comment_id="4339210"> @PeterKošinár I've confirmed your values for <span class="math-container" id="8136928" visual_id="3433"><math alttext="n=10" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>10</mn></mrow></semantics></math></span> and <span class="math-container" id="8136929" visual_id="65098"><math alttext="n=11" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>11</mn></mrow></semantics></math></span> as the true lower bounds (added to post). I've also composed a list of all 4-swap sequences for <span class="math-container" id="8136934" visual_id="29175"><math alttext="n=14" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>14</mn></mrow></semantics></math></span> and <span class="math-container" id="8136931" visual_id="95556"><math alttext="n=15" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>15</mn></mrow></semantics></math></span> pruned by your method (on values 21 and 24 resp.) and distinct up to isomorphism. Starting your search with these swaps will drastically reduce the search space. If your search ends without finding anything then that means your current solutions are optimal. Links at bottom of post. </td></tr><tr><td comment_id="4342634"> As an update, my randomized algorithm found an example with 17 swaps with <span class="math-container" id="8136932" visual_id="5967"><math alttext="n=13" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>13</mn></mrow></semantics></math></span>. Here's the sequence: [(1, 5), (2, 12), (2, 8), (7, 12), (2, 12), (4, 10), (6, 9), (4, 11), (2, 6), (2, 5), (9, 12), (7, 10), (0, 4), (4, 12), (7, 11), (3, 9), (1, 8)] </td></tr><tr><td comment_id="4343040"> @VincentTjeng My comment on your question shows one such as well (it also satisfies the one-fixed-seat condition). I am tempted to conjecture that the lower bound is actually quite close to being optimal; possibly differing at most by a constant difference only (admittedly, basing it only on the data seen so far, no deeper insight yet). Furthermore, the one-person-fixed rule has been proven preserve optimality for <span class="math-container" id="8136933" visual_id="457114"><math alttext="n\leq 13" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>≤</mo><mn>13</mn></mrow></semantics></math></span> now and it might even work for <span class="math-container" id="8136934" visual_id="29175"><math alttext="n=14" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>14</mn></mrow></semantics></math></span> (I have a solution with <span class="math-container" id="8136935" visual_id="3053"><math alttext="21" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>21</mn></semantics></math></span> steps which satisfies it) </td></tr><tr><td comment_id="4344311"> Ah, sorry. I was confused why you did not have a solution listed above - I realize now that you were listing lexicographically smallest examples. </td></tr><tr><td comment_id="4344767"> @AndrewSzymczak Thanks for the lists! I am running my DFS code on them now; but, predictably, even a single DFS run still takes quite some time to complete, so I wouldn't expect any results in near future. </td></tr><tr><td comment_id="4349169"> @VincentTjeng Meanhwile, a DFS with two additional restrictions (one person doesn't move, plus each swap needs to be worse or equal to the previous one in terms of newly added edges to the friendship graph) has found a solution confirming <span class="math-container" id="8136936" visual_id="3910776"><math alttext="g(14)=20" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>g</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>14</mn><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mn>20</mn></mrow></semantics></math></span> (I'll add it in a comment to the question). Of course, as we know from <span class="math-container" id="8136937" visual_id="370"><math alttext="n=8" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>8</mn></mrow></semantics></math></span>, this approach is not guaranteed to find the optimal solution in all cases. </td></tr><tr><td comment_id="4351032"> I made a mistake, it turns out graph-isomorphism isn't the whole story. The state space is actually (n-1)!/2 times larger because the table configurations come into play. Now I am completely out of ideas for an exhaustive search for <span class="math-container" id="8136938" visual_id="163154"><math alttext="n\geq 14" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>≥</mo><mn>14</mn></mrow></semantics></math></span>. I'm having a hard time proving any of your restrictions. Consider even the restriction where we only allow swaps that increase the number of friends. Let <span class="math-container" id="8136939" visual_id="24976"><math alttext="n=6" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>6</mn></mrow></semantics></math></span> and make the following seat-swaps (1,2),(1,3),(2,6). This is 2 swaps away at best. If we then make the swap (1,3) (giving us zero friends), we are only 1 swap away. </td></tr><tr><td comment_id="4365837"> @AndrewSzymczak I'm not sure that that is a counter-example, since we're not trying to find *all* optimal sequences of swaps, but just one such sequence - we simply have to show that for each <span class="math-container" id="8136941" visual_id="177"><math alttext="n" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>n</mi></semantics></math></span> there exists some optimal sequence of swaps where each swap satisfies the restriction we're attempting to impose (e.g. swaps must increase the number of friends), right? </td></tr><tr><td comment_id="4366269"> @PeterKošinár right, I was just trying to say that any exhaustive search we run can't utilize the restrictions until we come up with such a proof. Of course, we are at values of <span class="math-container" id="8136941" visual_id="177"><math alttext="n" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>n</mi></semantics></math></span> at which an exhaustive search is intractable anyway, so I guess it's a moot point. </td></tr><tr><td comment_id="4366323"> @AndrewSzymczak You might have mis-directed your last comment ;-) My observations (the fixed seat / very-greedy / ...) are only heuristics that can be used to speed up the searches without any guarantees for success... so unless we hit the lower bounds, we cannot be sure about optimality of the solution (I haven't found a proof for any of them either, yet). That being said, they certainly allowed my searches to push the best known values a bit even in the area where exhaustive search is useless (as you can see in my comments on the question) </td></tr>
</tbody>
</table>
</div>
</div>
<hr style="border-top: 3px double #8c8b8b"/>
</div>
<div class="row">
<div id="duplicate">
<table>
<tbody>
</tbody>
</table>
</div>
<hr/>
<div id="related">
<table>
<tbody>
<tr><td post_id="2050761"> Swapping and handshakes with neighbours in a circle </td></tr>
</tbody>
</table>
</div>
</div>
</div>
</body>
</html>
