<!DOCTYPE html>

<html>
<head>
<title>To prove: $n!=\sum\limits_{r=0}^n (-1)^r \binom{n}{r} (n-r)^n$</title>
<link href="https://cdn.sstatic.net/Shared/stacks.css?v=079c5e1603be" rel="stylesheet" type="text/css"/>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript"> </script>
<link href="https://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css" rel="stylesheet"/>
<link href="https://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap-theme.min.css" rel="stylesheet"/>
<style>
        .row {
          display: block;
          margin-left: auto;
          margin-right: auto;
          width:50%;
        }
        tr {
          border:1px solid lightgrey;
        }
        </style>
</head>
<body>
<div>
<div class="row" id="question-title">
<h1> To prove: <span class="math-container" id="26109143" visual_id="3297400"><math alttext="n!=\sum\limits_{r=0}^{n}(-1)^{r}\binom{n}{r}(n-r)^{n}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>n</mi><mo>!</mo></mrow><mo>=</mo><mrow><munderover><mo largeop="true" movablelimits="false" symmetric="true">‚àë</mo><mrow><mi>r</mi><mo>=</mo><mn>0</mn></mrow><mi>n</mi></munderover><mrow><msup><mrow><mo stretchy="false">(</mo><mrow><mo>-</mo><mn>1</mn></mrow><mo stretchy="false">)</mo></mrow><mi>r</mi></msup><mo>‚Å¢</mo><mrow><mo>(</mo><mfrac linethickness="0pt"><mi>n</mi><mi>r</mi></mfrac><mo>)</mo></mrow><mo>‚Å¢</mo><msup><mrow><mo stretchy="false">(</mo><mrow><mi>n</mi><mo>-</mo><mi>r</mi></mrow><mo stretchy="false">)</mo></mrow><mi>n</mi></msup></mrow></mrow></mrow></semantics></math></span> </h1>
<hr/>
</div>
<div class="row">
<div class="question">
<div id="question" question_id="2827331">
<p>How to algebraically prove that <span class="math-container" id="26109144" visual_id="3297400"><math alttext="n!=\sum\limits_{r=0}^{n}(-1)^{r}\binom{n}{r}(n-r)^{n}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>n</mi><mo>!</mo></mrow><mo>=</mo><mrow><munderover><mo largeop="true" movablelimits="false" symmetric="true">‚àë</mo><mrow><mi>r</mi><mo>=</mo><mn>0</mn></mrow><mi>n</mi></munderover><mrow><msup><mrow><mo stretchy="false">(</mo><mrow><mo>-</mo><mn>1</mn></mrow><mo stretchy="false">)</mo></mrow><mi>r</mi></msup><mo>‚Å¢</mo><mrow><mo>(</mo><mfrac linethickness="0pt"><mi>n</mi><mi>r</mi></mfrac><mo>)</mo></mrow><mo>‚Å¢</mo><msup><mrow><mo stretchy="false">(</mo><mrow><mi>n</mi><mo>-</mo><mi>r</mi></mrow><mo stretchy="false">)</mo></mrow><mi>n</mi></msup></mrow></mrow></mrow></semantics></math></span></p> <p>I was trying to find number of onto functions from <span class="math-container" id="26109145" visual_id="188"><math alttext="A" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi></semantics></math></span> to <span class="math-container" id="26109146" visual_id="188"><math alttext="A" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi></semantics></math></span> containing <span class="math-container" id="26109147" visual_id="177"><math alttext="n" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>n</mi></semantics></math></span> elements.</p> <p>Using the inclusion-exclusion principle I am getting  <span class="math-container" id="26109148" visual_id="3297401"><math alttext="\sum\limits_{r=0}^{n}(-1)^{r}\binom{n}{r}(n-r)^{n}." class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><munderover><mo largeop="true" movablelimits="false" symmetric="true">‚àë</mo><mrow><mi>r</mi><mo>=</mo><mn>0</mn></mrow><mi>n</mi></munderover><mrow><msup><mrow><mo stretchy="false">(</mo><mrow><mo>-</mo><mn>1</mn></mrow><mo stretchy="false">)</mo></mrow><mi>r</mi></msup><mo>‚Å¢</mo><mrow><mo>(</mo><mfrac linethickness="0pt"><mi>n</mi><mi>r</mi></mfrac><mo>)</mo></mrow><mo>‚Å¢</mo><msup><mrow><mo stretchy="false">(</mo><mrow><mi>n</mi><mo>-</mo><mi>r</mi></mrow><mo stretchy="false">)</mo></mrow><mi>n</mi></msup></mrow></mrow><mo>.</mo></mrow></semantics></math></span></p> <p>We can also do it by simple combinatorics, as every element has to have a pre-image and number of elements in the domain equal to the number of elements in the codomain, the number of functions is <span class="math-container" id="26109149" visual_id="40945"><math alttext="n!." class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>n</mi><mo>!</mo></mrow><mo>.</mo></mrow></semantics></math></span> </p> <p>Is there an algebraic way to prove these two are equal?</p>
</div>
<hr/>
<div id="tags">
<span> linear-algebra </span><span> abstract-algebra </span><span> combinatorics </span><span> permutations </span>
</div>
<hr/>
<div id="question-comments">
<table>
<tbody>
<tr><td comment_id="5829733"> How about mathematical induction? </td></tr><tr><td comment_id="5829746"> Using the Binomial Theorem, you have: <span class="math-container" id="26109150" visual_id="3297402"><math alttext="\sum_{r=0}^{n}(-1)^{r}\dbinom{n}{r}(n-r)^{n}=\sum_{r=0}^{n}(-1)^{r}\dbinom{n}{% r}\left(\sum_{k=0}^{n}\dbinom{n}{k}n^{k}(-r)^{n-k}\right)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><msubsup><mo largeop="true" symmetric="true">‚àë</mo><mrow><mi>r</mi><mo>=</mo><mn>0</mn></mrow><mi>n</mi></msubsup><mrow><msup><mrow><mo stretchy="false">(</mo><mrow><mo>-</mo><mn>1</mn></mrow><mo stretchy="false">)</mo></mrow><mi>r</mi></msup><mo>‚Å¢</mo><mrow><mo>(</mo><mstyle displaystyle="true"><mfrac linethickness="0pt"><mi>n</mi><mi>r</mi></mfrac></mstyle><mo>)</mo></mrow><mo>‚Å¢</mo><msup><mrow><mo stretchy="false">(</mo><mrow><mi>n</mi><mo>-</mo><mi>r</mi></mrow><mo stretchy="false">)</mo></mrow><mi>n</mi></msup></mrow></mrow><mo>=</mo><mrow><msubsup><mo largeop="true" symmetric="true">‚àë</mo><mrow><mi>r</mi><mo>=</mo><mn>0</mn></mrow><mi>n</mi></msubsup><mrow><msup><mrow><mo stretchy="false">(</mo><mrow><mo>-</mo><mn>1</mn></mrow><mo stretchy="false">)</mo></mrow><mi>r</mi></msup><mo>‚Å¢</mo><mrow><mo>(</mo><mstyle displaystyle="true"><mfrac linethickness="0pt"><mi>n</mi><mi>r</mi></mfrac></mstyle><mo>)</mo></mrow><mo>‚Å¢</mo><mrow><mo>(</mo><mrow><msubsup><mo largeop="true" symmetric="true">‚àë</mo><mrow><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mi>n</mi></msubsup><mrow><mrow><mo>(</mo><mstyle displaystyle="true"><mfrac linethickness="0pt"><mi>n</mi><mi>k</mi></mfrac></mstyle><mo>)</mo></mrow><mo>‚Å¢</mo><msup><mi>n</mi><mi>k</mi></msup><mo>‚Å¢</mo><msup><mrow><mo stretchy="false">(</mo><mrow><mo>-</mo><mi>r</mi></mrow><mo stretchy="false">)</mo></mrow><mrow><mi>n</mi><mo>-</mo><mi>k</mi></mrow></msup></mrow></mrow><mo>)</mo></mrow></mrow></mrow></mrow></semantics></math></span> This might help. I haven't checked, though. </td></tr><tr><td comment_id="5829750"> If you don't like to use MI, you may try to expand the RHS: <span class="math-container" id="26109151" visual_id="3297403"><math alttext="n!=n(n-1)(n-2)....(2)(1)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mrow><mi>n</mi><mo>!</mo></mrow><mo>=</mo><mrow><mi>n</mi><mo>‚Å¢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>n</mi><mo>-</mo><mn>1</mn></mrow><mo stretchy="false">)</mo></mrow><mo>‚Å¢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>n</mi><mo>-</mo><mn>2</mn></mrow><mo stretchy="false">)</mo></mrow><mo>‚Å¢</mo><mi mathvariant="normal">‚Ä¶</mi></mrow></mrow><mo>.</mo><mrow><mrow><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></mrow><mo>‚Å¢</mo><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mrow></mrow></semantics></math></span> </td></tr><tr><td comment_id="5829766"> @Jerry how to use mathematical induction here? I tried but couldn't get it. </td></tr><tr><td comment_id="5829770"> @InterstellarProbe how to get that result you have mentioned? </td></tr><tr><td comment_id="5829772"> @ATHARVA I used the Binomial Theorem: https://en.wikipedia.org/wiki/Binomial_theorem </td></tr><tr><td comment_id="5829804"> @InterstellarProbe  I know binomial theorem. I didn't saw your expression properly ,got it now. But how to take it forward from there. </td></tr>
</tbody>
</table>
</div>
</div>
<hr style="border-top: 3px double #8c8b8b"/>
</div>
<div class="row">
<div class="answer">
<div answer_id="2827397" id="answer">
<p>It  is convenient to use the  <em><a href="http://arxiv.org/abs/math/9402216" rel="nofollow noreferrer">coefficient of</a></em> operator <span class="math-container" id="26109152" visual_id="146268"><math alttext="[z^{n}]" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><msup><mi>z</mi><mi>n</mi></msup><mo stretchy="false">]</mo></mrow></semantics></math></span> to denote the coefficient of <span class="math-container" id="26109153" visual_id="974"><math alttext="z^{n}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>z</mi><mi>n</mi></msup></semantics></math></span> of a series. This way we can write for instance</p> <p><span class="math-container" id="26109154" visual_id="3297404"><math alttext="n![z^{n}]e^{rz}=r^{n}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mrow><mi>n</mi><mo>!</mo></mrow><mo>‚Å¢</mo><mrow><mo stretchy="false">[</mo><msup><mi>z</mi><mi>n</mi></msup><mo stretchy="false">]</mo></mrow><mo>‚Å¢</mo><msup><mi>e</mi><mrow><mi>r</mi><mo>‚Å¢</mo><mi>z</mi></mrow></msup></mrow><mo>=</mo><msup><mi>r</mi><mi>n</mi></msup></mrow></semantics></math></span></p> <blockquote> <p>We obtain   \begin{align*} \color{blue}{\sum_{r=0}^n}&amp;\color{blue}{(-1)^r\binom{n}{r}(n-r)^n}\\ &amp;=\sum_{r=0}^n(-1)^{n-r}\binom{n}{r}r^n\tag{1}\\ &amp;=\sum_{r=0}^n(-1)^{n-r}\binom{n}{r}n![z^n]e^{rz}\tag{2}\\ &amp;=n![z^n]\sum_{r=0}^n\binom{n}{r}\left(e^{z}\right)^r(-1)^{n-r}\tag{3}\\ &amp;=n![z^n](e^{z}-1)^n\tag{4}\\ &amp;=n![z^n](z+\frac{z^2}{2!}+\cdots)^n\tag{5}\\ &amp;\color{blue}{=n!} \end{align*}   and the claim follows.</p> </blockquote> <p><em>Comment:</em></p> <ul> <li><p>In (1) we change the order of summation by setting <span class="math-container" id="26109155" visual_id="3297405"><math alttext="0\leq\mathbf{E}[\mathbf{1}_{S}|\mathcal{G}]\leq 1" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>‚â§</mo><mrow><mi>ùêÑ</mi><mo>‚Å¢</mo><mrow><mo stretchy="false">[</mo><mrow><msub><mn>ùüè</mn><mi>S</mi></msub><mo lspace="2.5pt" rspace="2.5pt" stretchy="false">|</mo><mi class="ltx_font_mathcaligraphic">ùí¢</mi></mrow><mo stretchy="false">]</mo></mrow></mrow><mo>‚â§</mo><mn>1</mn></mrow></semantics></math></span> and use the binomial identity <span class="math-container" id="26109156" visual_id="1108453"><math alttext="\binom{p}{q}=\binom{p}{p-q}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo>(</mo><mfrac linethickness="0pt"><mi>p</mi><mi>q</mi></mfrac><mo>)</mo></mrow><mo>=</mo><mrow><mo>(</mo><mfrac linethickness="0pt"><mi>p</mi><mrow><mi>p</mi><mo>-</mo><mi>q</mi></mrow></mfrac><mo>)</mo></mrow></mrow></semantics></math></span>.</p></li> <li><p>In (2) we apply the <em>coefficient of</em> operator.</p></li> <li><p>In (3) we use the linearity of the <em>coefficient of</em> operator and do a little rearrangement as preparation for the next step.</p></li> <li><p>In (4) we apply the binomial theorem.</p></li> <li><p>In (5) we do the series expansion of <span class="math-container" id="26109157" visual_id="4741"><math alttext="e^{z}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>e</mi><mi>z</mi></msup></semantics></math></span> and see the smallest exponent of <span class="math-container" id="26109158" visual_id="44"><math alttext="z" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>z</mi></semantics></math></span> in <span class="math-container" id="26109159" visual_id="3297406"><math alttext="(e^{z}-1)^{n}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mrow><mo stretchy="false">(</mo><mrow><msup><mi>e</mi><mi>z</mi></msup><mo>-</mo><mn>1</mn></mrow><mo stretchy="false">)</mo></mrow><mi>n</mi></msup></semantics></math></span> is <span class="math-container" id="26109160" visual_id="1274011"><math alttext="\color{blue}{n}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><merror class="ltx_ERROR undefined undefined"><mtext>\color</mtext></merror><mo>‚Å¢</mo><mi>b</mi><mo>‚Å¢</mo><mi>l</mi><mo>‚Å¢</mo><mi>u</mi><mo>‚Å¢</mo><mi>e</mi><mo>‚Å¢</mo><mi>n</mi></mrow></semantics></math></span>. So, we will only use the constant <span class="math-container" id="26109161" visual_id="586468"><math alttext="\color{blue}{1}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><merror class="ltx_ERROR undefined undefined"><mtext>\color</mtext></merror><mo>‚Å¢</mo><mi>b</mi><mo>‚Å¢</mo><mi>l</mi><mo>‚Å¢</mo><mi>u</mi><mo>‚Å¢</mo><mi>e</mi><mo>‚Å¢</mo><mn>1</mn></mrow></semantics></math></span> in the series expansion.</p></li> </ul>
</div>
<hr/>
<div id="answer-comments">
<table>
<tbody>
<tr><td comment_id="5829916"> Cool solution, but I think you should flesh out the passage from (2) to(3) a bit more. </td></tr><tr><td comment_id="5830161"> @goblin:  Thanks.  :-) I've added some information which might be helpful. </td></tr><tr><td comment_id="6037362"> @FelixMarin: Many thanks. Typo corrected. </td></tr>
</tbody>
</table>
</div>
</div>
<hr style="border-top: 3px double #8c8b8b"/>
</div>
<div class="row">
<div id="duplicate">
<table>
<tbody>
<tr><td post_id="1861402"> Proof of the summation <span class="math-container" id="17236594" visual_id="2094663"><math alttext="n!=\sum_{k=0}^{n}\binom{n}{k}(n-k+1)^{n}(-1)^{k}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>n</mi><mo>!</mo></mrow><mo>=</mo><mrow><msubsup><mo largeop="true" symmetric="true">‚àë</mo><mrow><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mi>n</mi></msubsup><mrow><mrow><mo>(</mo><mfrac linethickness="0pt"><mi>n</mi><mi>k</mi></mfrac><mo>)</mo></mrow><mo>‚Å¢</mo><msup><mrow><mo stretchy="false">(</mo><mrow><mrow><mi>n</mi><mo>-</mo><mi>k</mi></mrow><mo>+</mo><mn>1</mn></mrow><mo stretchy="false">)</mo></mrow><mi>n</mi></msup><mo>‚Å¢</mo><msup><mrow><mo stretchy="false">(</mo><mrow><mo>-</mo><mn>1</mn></mrow><mo stretchy="false">)</mo></mrow><mi>k</mi></msup></mrow></mrow></mrow></semantics></math></span>? </td></tr>
</tbody>
</table>
</div>
<hr/>
<div id="related">
<table>
<tbody>
<tr><td post_id="2893471"> simplifying triple summations from series expansion </td></tr>
</tbody>
</table>
</div>
</div>
</div>
</body>
</html>
