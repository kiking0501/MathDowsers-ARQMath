<!DOCTYPE html>

<html>
<head>
<title>Discontinuous at rationals and differentiable at irrationals?</title>
<link href="https://cdn.sstatic.net/Shared/stacks.css?v=079c5e1603be" rel="stylesheet" type="text/css"/>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript"> </script>
<link href="https://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css" rel="stylesheet"/>
<link href="https://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap-theme.min.css" rel="stylesheet"/>
<style>
        .row {
          display: block;
          margin-left: auto;
          margin-right: auto;
          width:50%;
        }
        tr {
          border:1px solid lightgrey;
        }
        </style>
</head>
<body>
<div>
<div class="row" id="question-title">
<h1> Discontinuous at rationals and differentiable at irrationals? </h1>
<hr/>
</div>
<div class="row">
<div class="question">
<div id="question" question_id="2115">
<p>We know that there exist real functions which are continuous at each irrational and dis- continuous at each rational number. </p> <blockquote> <p>But does there exist a function <span class="math-container" id="15778" visual_id="3106"><math alttext="f:\mathbb{R}\to\mathbb{R}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>:</mo><mrow><mi>‚Ñù</mi><mo>‚Üí</mo><mi>‚Ñù</mi></mrow></mrow></semantics></math></span> that is differentiable at every irrational and discontinuous at every rational?</p> </blockquote>
</div>
<hr/>
<div id="tags">
<span> real-analysis </span><span> analysis </span>
</div>
<hr/>
<div id="question-comments">
<table>
<tbody>
<tr><td comment_id="3874"> In case anyone isn't familiar with the [functions](http://en.wikipedia.org/wiki/Thomae%27s_function) mentioned in the first sentence </td></tr><tr><td comment_id="3879"> @Casebash: Here is one. Define <span class="math-container" id="15827" visual_id="1"><math alttext="f" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>f</mi></semantics></math></span> in the following manner. <span class="math-container" id="15780" visual_id="8233559"><math alttext="f(p/q)=\frac{1}{q}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>f</mi><mo>‚Å¢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>p</mi><mo>/</mo><mi>q</mi></mrow><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mfrac><mn>1</mn><mi>q</mi></mfrac></mrow></semantics></math></span>, if <span class="math-container" id="15781" visual_id="9130"><math alttext="p/q" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>/</mo><mi>q</mi></mrow></semantics></math></span> is in its lowest terms with <span class="math-container" id="15782" visual_id="179840"><math alttext="q&gt;0" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi><mo>&gt;</mo><mn>0</mn></mrow></semantics></math></span> and <span class="math-container" id="15783" visual_id="2020"><math alttext="f(x)=0" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>f</mi><mo>‚Å¢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mn>0</mn></mrow></semantics></math></span> for <span class="math-container" id="15784" visual_id="272833"><math alttext="x\in\mathbb{R}\setminus\mathbb{Q}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>‚àà</mo><mrow><mi>‚Ñù</mi><mo>‚àñ</mo><mi>‚Ñö</mi></mrow></mrow></semantics></math></span>.  You can see this in "Methods of Real Analysis" book by R.R.Goldberg </td></tr><tr><td comment_id="3928"> The title could be more specific: at least the word "differentiable" should be in there somewhere. </td></tr><tr><td comment_id="4157"> Hi- Can i interchange the question and post it. New question would be does there exists functions <span class="math-container" id="15785" visual_id="3106"><math alttext="f:\mathbb{R}\to\mathbb{R}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>:</mo><mrow><mi>‚Ñù</mi><mo>‚Üí</mo><mi>‚Ñù</mi></mrow></mrow></semantics></math></span> which is differentiable at each rational and discontinuous at every irrational </td></tr><tr><td comment_id="4288"> There are no functions continuous on precisely the rationals, since the irrationals are not an <span class="math-container" id="15786" visual_id="21806"><math alttext="F_{\sigma}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>F</mi><mi>œÉ</mi></msub></semantics></math></span> set. </td></tr>
</tbody>
</table>
</div>
</div>
<hr style="border-top: 3px double #8c8b8b"/>
</div>
<div class="row">
<div class="answer">
<div answer_id="30460" id="answer">
<p>I think that there can be no such function.</p> <p>Suppose that <span class="math-container" id="15787" visual_id="1"><math alttext="f" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>f</mi></semantics></math></span> is discontinuous at some point <span class="math-container" id="15788" visual_id="625"><math alttext="q" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>q</mi></semantics></math></span>. There must be constants <span class="math-container" id="15789" visual_id="4205"><math alttext="A,B" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>,</mo><mi>B</mi></mrow></semantics></math></span> so that <span class="math-container" id="15790" visual_id="8233560"><math alttext="f(s)&amp;lt;A&amp;lt;B&amp;lt;f(t)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>f</mi><mo>‚Å¢</mo><mrow><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow><mo>&lt;</mo></mrow><mrow><mi>A</mi><mo>&lt;</mo></mrow><mrow><mi>B</mi><mo>&lt;</mo></mrow><mrow><mi>f</mi><mo>‚Å¢</mo><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow></mrow></semantics></math></span> holds for points <span class="math-container" id="15791" visual_id="40841"><math alttext="s,t" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo>,</mo><mi>t</mi></mrow></semantics></math></span> arbitrarily near to <span class="math-container" id="15792" visual_id="625"><math alttext="q" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>q</mi></semantics></math></span>. </p> <p>Suppose that <span class="math-container" id="15793" visual_id="8233561"><math alttext="x_{0}&amp;lt;q" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><msub><mi>x</mi><mn>0</mn></msub><mo>&lt;</mo></mrow><mi>q</mi></mrow></semantics></math></span> satisfies <span class="math-container" id="15794" visual_id="8233562"><math alttext="q-x_{0}&amp;lt;B-A" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>q</mi><mo>-</mo><mrow><msub><mi>x</mi><mn>0</mn></msub><mo>&lt;</mo></mrow></mrow><mrow><mi>B</mi><mo>-</mo><mi>A</mi></mrow></mrow></semantics></math></span>. Choose sequences <span class="math-container" id="15795" visual_id="8233563"><math alttext="s_{n},t_{n}&amp;gt;x_{0}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mi>n</mi></msub><mo>,</mo><mrow><msub><mi>t</mi><mi>n</mi></msub><mo>&gt;</mo></mrow><msub><mi>x</mi><mn>0</mn></msub></mrow></semantics></math></span> converging to <span class="math-container" id="15796" visual_id="625"><math alttext="q" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>q</mi></semantics></math></span> and satisfying <span class="math-container" id="15797" visual_id="8233564"><math alttext="f(s_{n})&amp;lt;A&amp;lt;B&amp;lt;f(t_{n})" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>f</mi><mo>‚Å¢</mo><mrow><mo stretchy="false">(</mo><msub><mi>s</mi><mi>n</mi></msub><mo stretchy="false">)</mo></mrow><mo>&lt;</mo></mrow><mrow><mi>A</mi><mo>&lt;</mo></mrow><mrow><mi>B</mi><mo>&lt;</mo></mrow><mrow><mi>f</mi><mo>‚Å¢</mo><mrow><mo stretchy="false">(</mo><msub><mi>t</mi><mi>n</mi></msub><mo stretchy="false">)</mo></mrow></mrow></mrow></semantics></math></span>. Then we have </p> <p><span class="math-container" id="15798" visual_id="8233565"><math alttext="\frac{f(t_{n})-f(x_{0})}{t_{n}-x_{0}}-\frac{f(s_{n})-f(x_{0})}{s_{n}-x_{0}}&amp;gt% ;\frac{B-f(x_{0})}{t_{n}-x_{0}}-\frac{A-f(x_{0})}{s_{n}-x_{0}}\to\frac{B-A}{q-% x_{0}}&amp;gt;1" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mrow><mrow><mfrac><mrow><mrow><mi>f</mi><mo>‚Å¢</mo><mrow><mo stretchy="false">(</mo><msub><mi>t</mi><mi>n</mi></msub><mo stretchy="false">)</mo></mrow></mrow><mo>-</mo><mrow><mi>f</mi><mo>‚Å¢</mo><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mn>0</mn></msub><mo stretchy="false">)</mo></mrow></mrow></mrow><mrow><msub><mi>t</mi><mi>n</mi></msub><mo>-</mo><msub><mi>x</mi><mn>0</mn></msub></mrow></mfrac><mo>-</mo><mrow><mfrac><mrow><mrow><mi>f</mi><mo>‚Å¢</mo><mrow><mo stretchy="false">(</mo><msub><mi>s</mi><mi>n</mi></msub><mo stretchy="false">)</mo></mrow></mrow><mo>-</mo><mrow><mi>f</mi><mo>‚Å¢</mo><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mn>0</mn></msub><mo stretchy="false">)</mo></mrow></mrow></mrow><mrow><msub><mi>s</mi><mi>n</mi></msub><mo>-</mo><msub><mi>x</mi><mn>0</mn></msub></mrow></mfrac><mo>&gt;</mo></mrow></mrow><mrow><mfrac><mrow><mi>B</mi><mo>-</mo><mrow><mi>f</mi><mo>‚Å¢</mo><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mn>0</mn></msub><mo stretchy="false">)</mo></mrow></mrow></mrow><mrow><msub><mi>t</mi><mi>n</mi></msub><mo>-</mo><msub><mi>x</mi><mn>0</mn></msub></mrow></mfrac><mo>-</mo><mfrac><mrow><mi>A</mi><mo>-</mo><mrow><mi>f</mi><mo>‚Å¢</mo><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mn>0</mn></msub><mo stretchy="false">)</mo></mrow></mrow></mrow><mrow><msub><mi>s</mi><mi>n</mi></msub><mo>-</mo><msub><mi>x</mi><mn>0</mn></msub></mrow></mfrac></mrow></mrow><mo>‚Üí</mo><mrow><mfrac><mrow><mi>B</mi><mo>-</mo><mi>A</mi></mrow><mrow><mi>q</mi><mo>-</mo><msub><mi>x</mi><mn>0</mn></msub></mrow></mfrac><mo>&gt;</mo></mrow></mrow><mn>1</mn></mrow></semantics></math></span></p> <p>and may conclude that there exist <span class="math-container" id="15799" visual_id="40841"><math alttext="s,t" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo>,</mo><mi>t</mi></mrow></semantics></math></span> as close to <span class="math-container" id="15800" visual_id="625"><math alttext="q" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>q</mi></semantics></math></span> as we like satisfying</p> <p><span class="math-container" id="15801" visual_id="8233566"><math alttext="\frac{f(t)-f(x_{0})}{t-x_{0}}-\frac{f(s)-f(x_{0})}{s-x_{0}}&amp;gt;1" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mfrac><mrow><mrow><mi>f</mi><mo>‚Å¢</mo><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow><mo>-</mo><mrow><mi>f</mi><mo>‚Å¢</mo><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mn>0</mn></msub><mo stretchy="false">)</mo></mrow></mrow></mrow><mrow><mi>t</mi><mo>-</mo><msub><mi>x</mi><mn>0</mn></msub></mrow></mfrac><mo>-</mo><mrow><mfrac><mrow><mrow><mi>f</mi><mo>‚Å¢</mo><mrow><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow></mrow><mo>-</mo><mrow><mi>f</mi><mo>‚Å¢</mo><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mn>0</mn></msub><mo stretchy="false">)</mo></mrow></mrow></mrow><mrow><mi>s</mi><mo>-</mo><msub><mi>x</mi><mn>0</mn></msub></mrow></mfrac><mo>&gt;</mo></mrow></mrow><mn>1</mn></mrow></semantics></math></span></p> <p>Arguing similarly when <span class="math-container" id="15802" visual_id="8233567"><math alttext="x_{0}&amp;gt;q" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><msub><mi>x</mi><mn>0</mn></msub><mo>&gt;</mo></mrow><mi>q</mi></mrow></semantics></math></span> and trivially (since the Newton quotients will be unbounded as a result of the discontinuity) when <span class="math-container" id="15803" visual_id="1776208"><math alttext="x_{0}=q" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>0</mn></msub><mo>=</mo><mi>q</mi></mrow></semantics></math></span> we get the same conclusion with only <span class="math-container" id="15804" visual_id="8233568"><math alttext="|x_{0}-q|&amp;lt;B-A" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mrow><mo stretchy="false">|</mo><mrow><msub><mi>x</mi><mn>0</mn></msub><mo>-</mo><mi>q</mi></mrow><mo stretchy="false">|</mo></mrow><mo>&lt;</mo></mrow><mrow><mi>B</mi><mo>-</mo><mi>A</mi></mrow></mrow></semantics></math></span>.</p> <p>For <span class="math-container" id="15805" visual_id="177"><math alttext="n" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>n</mi></semantics></math></span> a positive integer let <span class="math-container" id="15806" visual_id="1096"><math alttext="X_{n}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>X</mi><mi>n</mi></msub></semantics></math></span> denote all of the points <span class="math-container" id="15807" visual_id="606"><math alttext="x_{0}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>x</mi><mn>0</mn></msub></semantics></math></span> in <span class="math-container" id="15808" visual_id="5481"><math alttext="\mathbf{R}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>ùêë</mi></semantics></math></span> for which there exist <span class="math-container" id="15809" visual_id="40841"><math alttext="s,t" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo>,</mo><mi>t</mi></mrow></semantics></math></span> at distance less than <span class="math-container" id="15810" visual_id="413"><math alttext="1/n" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>/</mo><mi>n</mi></mrow></semantics></math></span> from <span class="math-container" id="15811" visual_id="606"><math alttext="x_{0}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>x</mi><mn>0</mn></msub></semantics></math></span> satisfying the preceding inequality. Our argument implies that, for every <span class="math-container" id="15812" visual_id="177"><math alttext="n" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>n</mi></semantics></math></span>, <span class="math-container" id="15813" visual_id="1096"><math alttext="X_{n}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>X</mi><mi>n</mi></msub></semantics></math></span> is a neighbourhood of every point <span class="math-container" id="15814" visual_id="625"><math alttext="q" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>q</mi></semantics></math></span> at which <span class="math-container" id="15815" visual_id="1"><math alttext="f" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>f</mi></semantics></math></span> is discontinuous (consider the points <span class="math-container" id="15816" visual_id="606"><math alttext="x_{0}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>x</mi><mn>0</mn></msub></semantics></math></span> whose distance from <span class="math-container" id="15817" visual_id="625"><math alttext="q" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>q</mi></semantics></math></span> is less than <span class="math-container" id="15818" visual_id="413"><math alttext="1/n" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>/</mo><mi>n</mi></mrow></semantics></math></span> and <span class="math-container" id="15819" visual_id="8233569"><math alttext="B-A=B_{q}-A_{q}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>B</mi><mo>-</mo><mi>A</mi></mrow><mo>=</mo><mrow><msub><mi>B</mi><mi>q</mi></msub><mo>-</mo><msub><mi>A</mi><mi>q</mi></msub></mrow></mrow></semantics></math></span>). If it happens that the points of discontinuity are dense (as in the case of <span class="math-container" id="15820" visual_id="9730"><math alttext="\mathbf{Q}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>ùêê</mi></semantics></math></span>) then this implies that every <span class="math-container" id="15821" visual_id="1096"><math alttext="X_{n}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>X</mi><mi>n</mi></msub></semantics></math></span> contains an open dense set and thus <span class="math-container" id="15822" visual_id="2834853"><math alttext="\bigcap_{n}X_{n}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mo largeop="true" mathsize="160%" stretchy="false" symmetric="true">‚ãÇ</mo><mi>n</mi></msub><msub><mi>X</mi><mi>n</mi></msub></mrow></semantics></math></span> is second category in <span class="math-container" id="15823" visual_id="5481"><math alttext="\mathbf{R}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>ùêë</mi></semantics></math></span>.</p> <p>The point is of course that no point at which <span class="math-container" id="15824" visual_id="1"><math alttext="f" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>f</mi></semantics></math></span> is differentiable can be in all the <span class="math-container" id="15825" visual_id="1096"><math alttext="X_{n}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>X</mi><mi>n</mi></msub></semantics></math></span> so if <span class="math-container" id="15826" visual_id="1"><math alttext="f" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>f</mi></semantics></math></span> is discontinuous on the rationals then <span class="math-container" id="15827" visual_id="1"><math alttext="f" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>f</mi></semantics></math></span> is differentiable on at most a set of 1st category in <span class="math-container" id="15828" visual_id="5481"><math alttext="\mathbf{R}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>ùêë</mi></semantics></math></span> (which the irrationals are not).</p>
</div>
<hr/>
<div id="answer-comments">
<table>
<tbody>
</tbody>
</table>
</div>
</div>
<hr style="border-top: 3px double #8c8b8b"/>
</div>
<div class="row">
<div id="duplicate">
<table>
<tbody>
<tr><td post_id="2198280"> A function that is differentiable on irrationals but discontinuous on rationals </td></tr>
</tbody>
</table>
</div>
<hr/>
<div id="related">
<table>
<tbody>
<tr><td post_id="2874920"> Derivative of a monotone function discontinuous only at rational numbers </td></tr>
</tbody>
</table>
</div>
</div>
</div>
</body>
</html>
