<!DOCTYPE html>

<html>
<head>
<title>Identity with nested sum taken over divisors of $\gcd$'s</title>
<link href="https://cdn.sstatic.net/Shared/stacks.css?v=079c5e1603be" rel="stylesheet" type="text/css"/>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript"> </script>
<link href="https://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css" rel="stylesheet"/>
<link href="https://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap-theme.min.css" rel="stylesheet"/>
<style>
        .row {
          display: block;
          margin-left: auto;
          margin-right: auto;
          width:50%;
        }
        tr {
          border:1px solid lightgrey;
        }
        </style>
</head>
<body>
<div>
<div class="row" id="question-title">
<h1> Identity with nested sum taken over divisors of <span class="math-container" id="10423161" visual_id="11246"><math alttext="\gcd" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>gcd</mi></semantics></math></span>'s </h1>
<hr/>
</div>
<div class="row">
<div class="question">
<div id="question" question_id="1104971">
<p>For computational reasons, I want to show that the following holds true:</p> <p>Let <span class="math-container" id="10423162" visual_id="6695916"><math alttext="n_{1},n_{2},N\in\mathbb{N}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><msub><mi>n</mi><mn>1</mn></msub><mo>,</mo><msub><mi>n</mi><mn>2</mn></msub><mo>,</mo><mi>N</mi></mrow><mo>∈</mo><mi>ℕ</mi></mrow></semantics></math></span>. One has <span class="math-container" id="10423163" visual_id="6718382"><math alttext="\Large\sum_{a\mid\gcd(n_{1},N)}\sum_{b\mid\gcd(n_{2},\frac{n_{1}N}{a^{2}})}ab=% \sum_{g\mid\gcd(n_{1},n_{2})}\sum_{d\mid\gcd(\frac{n_{1}n_{2}}{g^{2}},N)}gd." class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mrow><msub><mo largeop="true" mathsize="144%" stretchy="false" symmetric="true">∑</mo><mrow><mi mathsize="144%">a</mi><mo lspace="2.5pt" mathsize="144%" rspace="2.5pt" stretchy="false">∣</mo><mrow><mi mathsize="144%">gcd</mi><mo>⁡</mo><mrow><mo maxsize="144%" minsize="144%">(</mo><msub><mi mathsize="144%">n</mi><mn mathsize="144%">1</mn></msub><mo mathsize="144%" stretchy="false">,</mo><mi mathsize="144%">N</mi><mo maxsize="144%" minsize="144%">)</mo></mrow></mrow></mrow></msub><mrow><msub><mo largeop="true" mathsize="144%" stretchy="false" symmetric="true">∑</mo><mrow><mi mathsize="144%">b</mi><mo lspace="2.5pt" mathsize="144%" rspace="2.5pt" stretchy="false">∣</mo><mrow><mi mathsize="144%">gcd</mi><mo>⁡</mo><mrow><mo maxsize="144%" minsize="144%">(</mo><msub><mi mathsize="144%">n</mi><mn mathsize="144%">2</mn></msub><mo mathsize="144%" stretchy="false">,</mo><mfrac><mrow><msub><mi mathsize="144%">n</mi><mn mathsize="144%">1</mn></msub><mo>⁢</mo><mi mathsize="144%">N</mi></mrow><msup><mi mathsize="144%">a</mi><mn mathsize="144%">2</mn></msup></mfrac><mo maxsize="144%" minsize="144%">)</mo></mrow></mrow></mrow></msub><mrow><mi mathsize="144%">a</mi><mo>⁢</mo><mi mathsize="144%">b</mi></mrow></mrow></mrow><mo mathsize="144%" stretchy="false">=</mo><mrow><msub><mo largeop="true" mathsize="144%" stretchy="false" symmetric="true">∑</mo><mrow><mi mathsize="144%">g</mi><mo lspace="2.5pt" mathsize="144%" rspace="2.5pt" stretchy="false">∣</mo><mrow><mi mathsize="144%">gcd</mi><mo>⁡</mo><mrow><mo maxsize="144%" minsize="144%">(</mo><msub><mi mathsize="144%">n</mi><mn mathsize="144%">1</mn></msub><mo mathsize="144%" stretchy="false">,</mo><msub><mi mathsize="144%">n</mi><mn mathsize="144%">2</mn></msub><mo maxsize="144%" minsize="144%">)</mo></mrow></mrow></mrow></msub><mrow><msub><mo largeop="true" mathsize="144%" stretchy="false" symmetric="true">∑</mo><mrow><mi mathsize="144%">d</mi><mo lspace="2.5pt" mathsize="144%" rspace="2.5pt" stretchy="false">∣</mo><mrow><mi mathsize="144%">gcd</mi><mo>⁡</mo><mrow><mo maxsize="144%" minsize="144%">(</mo><mfrac><mrow><msub><mi mathsize="144%">n</mi><mn mathsize="144%">1</mn></msub><mo>⁢</mo><msub><mi mathsize="144%">n</mi><mn mathsize="144%">2</mn></msub></mrow><msup><mi mathsize="144%">g</mi><mn mathsize="144%">2</mn></msup></mfrac><mo mathsize="144%" stretchy="false">,</mo><mi mathsize="144%">N</mi><mo maxsize="144%" minsize="144%">)</mo></mrow></mrow></mrow></msub><mrow><mi mathsize="144%">g</mi><mo>⁢</mo><mi mathsize="144%">d</mi></mrow></mrow></mrow></mrow><mo mathsize="144%" stretchy="false">.</mo></mrow></semantics></math></span></p> <p>It is true numerically, but I do not know how to prove it mathematically</p> <p>Any comment ? Thanks. </p> <p><strong>PS:</strong>  Note that all sums in the above equation runs over positive divisors only.</p>
</div>
<hr/>
<div id="tags">
<span> number-theory </span><span> elementary-number-theory </span><span> arithmetic-functions </span><span> divisor-sum </span>
</div>
<hr/>
<div id="question-comments">
<table>
<tbody>
<tr><td comment_id="2361183"> Note that it is more natural to switch <span class="math-container" id="10423187" visual_id="20820"><math alttext="n_{1}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>n</mi><mn>1</mn></msub></semantics></math></span> with <span class="math-container" id="10423170" visual_id="320"><math alttext="N" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>N</mi></semantics></math></span>, because the identity is symmetric in <span class="math-container" id="10423170" visual_id="320"><math alttext="N" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>N</mi></semantics></math></span> and <span class="math-container" id="10423188" visual_id="5426"><math alttext="n_{2}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>n</mi><mn>2</mn></msub></semantics></math></span>. It might also be useful that <span class="math-container" id="10423168" visual_id="6718383"><math alttext="\sigma=\tau*\varphi" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>σ</mi><mo>=</mo><mrow><mi>τ</mi><mo>*</mo><mi>φ</mi></mrow></mrow></semantics></math></span> ([Dirichlet convolution](http://en.wikipedia.org/wiki/Dirichlet_convolution)). </td></tr><tr><td comment_id="2394458"> Which kind of information are you interested in with regard to your bounty? As far as I see there are already nice, complete answers available. Regards, </td></tr><tr><td comment_id="2394843"> Dear @MarkusScheuer , I guess that one can prove it using induction. The answer which provided by Elsa says this. </td></tr><tr><td comment_id="2395273"> @user31009: I don't think that Elsas answer indicates a proof using induction. I've added remarks adressing some different aspects. Best regards, </td></tr><tr><td comment_id="5762445"> Some identities for more general divisor sums of gcds can be found [here](https://en.wikipedia.org/wiki/Divisor_sum_identities#Interchange_of_summation_identities). </td></tr>
</tbody>
</table>
</div>
</div>
<hr style="border-top: 3px double #8c8b8b"/>
</div>
<div class="row">
<div class="answer">
<div answer_id="1167148" id="answer">
<p>Dirichlet convolution looks potentially good here, but I found a simpler approach.  Let <span class="math-container" id="10423248" visual_id="6718428"><math alttext="n_{3}=N" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mn>3</mn></msub><mo>=</mo><mi>N</mi></mrow></semantics></math></span>, so the problem reads more symmetrically:</p> <p><span class="math-container" id="10423249" visual_id="6718429"><math alttext="\Large\sum_{a\mid\gcd(n_{1},n_{3})}\sum_{b\mid\gcd(n_{2},\frac{n_{1}n_{3}}{a^{% 2}})}ab=\sum_{g\mid\gcd(n_{1},n_{2})}\sum_{d\mid\gcd(\frac{n_{1}n_{2}}{g^{2}},% n_{3})}gd" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><msub><mo largeop="true" mathsize="144%" stretchy="false" symmetric="true">∑</mo><mrow><mi mathsize="144%">a</mi><mo lspace="2.5pt" mathsize="144%" rspace="2.5pt" stretchy="false">∣</mo><mrow><mi mathsize="144%">gcd</mi><mo>⁡</mo><mrow><mo maxsize="144%" minsize="144%">(</mo><msub><mi mathsize="144%">n</mi><mn mathsize="144%">1</mn></msub><mo mathsize="144%" stretchy="false">,</mo><msub><mi mathsize="144%">n</mi><mn mathsize="144%">3</mn></msub><mo maxsize="144%" minsize="144%">)</mo></mrow></mrow></mrow></msub><mrow><msub><mo largeop="true" mathsize="144%" stretchy="false" symmetric="true">∑</mo><mrow><mi mathsize="144%">b</mi><mo lspace="2.5pt" mathsize="144%" rspace="2.5pt" stretchy="false">∣</mo><mrow><mi mathsize="144%">gcd</mi><mo>⁡</mo><mrow><mo maxsize="144%" minsize="144%">(</mo><msub><mi mathsize="144%">n</mi><mn mathsize="144%">2</mn></msub><mo mathsize="144%" stretchy="false">,</mo><mfrac><mrow><msub><mi mathsize="144%">n</mi><mn mathsize="144%">1</mn></msub><mo>⁢</mo><msub><mi mathsize="144%">n</mi><mn mathsize="144%">3</mn></msub></mrow><msup><mi mathsize="144%">a</mi><mn mathsize="144%">2</mn></msup></mfrac><mo maxsize="144%" minsize="144%">)</mo></mrow></mrow></mrow></msub><mrow><mi mathsize="144%">a</mi><mo>⁢</mo><mi mathsize="144%">b</mi></mrow></mrow></mrow><mo mathsize="144%" stretchy="false">=</mo><mrow><msub><mo largeop="true" mathsize="144%" stretchy="false" symmetric="true">∑</mo><mrow><mi mathsize="144%">g</mi><mo lspace="2.5pt" mathsize="144%" rspace="2.5pt" stretchy="false">∣</mo><mrow><mi mathsize="144%">gcd</mi><mo>⁡</mo><mrow><mo maxsize="144%" minsize="144%">(</mo><msub><mi mathsize="144%">n</mi><mn mathsize="144%">1</mn></msub><mo mathsize="144%" stretchy="false">,</mo><msub><mi mathsize="144%">n</mi><mn mathsize="144%">2</mn></msub><mo maxsize="144%" minsize="144%">)</mo></mrow></mrow></mrow></msub><mrow><msub><mo largeop="true" mathsize="144%" stretchy="false" symmetric="true">∑</mo><mrow><mi mathsize="144%">d</mi><mo lspace="2.5pt" mathsize="144%" rspace="2.5pt" stretchy="false">∣</mo><mrow><mi mathsize="144%">gcd</mi><mo>⁡</mo><mrow><mo maxsize="144%" minsize="144%">(</mo><mfrac><mrow><msub><mi mathsize="144%">n</mi><mn mathsize="144%">1</mn></msub><mo>⁢</mo><msub><mi mathsize="144%">n</mi><mn mathsize="144%">2</mn></msub></mrow><msup><mi mathsize="144%">g</mi><mn mathsize="144%">2</mn></msup></mfrac><mo mathsize="144%" stretchy="false">,</mo><msub><mi mathsize="144%">n</mi><mn mathsize="144%">3</mn></msub><mo maxsize="144%" minsize="144%">)</mo></mrow></mrow></mrow></msub><mrow><mi mathsize="144%">g</mi><mo>⁢</mo><mi mathsize="144%">d</mi></mrow></mrow></mrow></mrow></semantics></math></span></p> <hr/> <p>For some reason this looks like a <a href="https://en.wikipedia.org/wiki/Venn_diagram" rel="nofollow">Venn diagram</a> problem or like <a href="https://en.wikipedia.org/wiki/Associative_property" rel="nofollow">Associtivity</a>.</p> <ul> <li><span class="math-container" id="10423250" visual_id="783231"><math alttext="(A\cap B)\cap C=A\cap(B\cap C)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mrow><mo stretchy="false">(</mo><mrow><mi>A</mi><mo>∩</mo><mi>B</mi></mrow><mo stretchy="false">)</mo></mrow><mo>∩</mo><mi>C</mi></mrow><mo>=</mo><mrow><mi>A</mi><mo>∩</mo><mrow><mo stretchy="false">(</mo><mrow><mi>B</mi><mo>∩</mo><mi>C</mi></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow></semantics></math></span> or</li> <li><span class="math-container" id="10423251" visual_id="2584716"><math alttext="(A+B)+C=A+(B+C)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mrow><mo stretchy="false">(</mo><mrow><mi>A</mi><mo>+</mo><mi>B</mi></mrow><mo stretchy="false">)</mo></mrow><mo>+</mo><mi>C</mi></mrow><mo>=</mo><mrow><mi>A</mi><mo>+</mo><mrow><mo stretchy="false">(</mo><mrow><mi>B</mi><mo>+</mo><mi>C</mi></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow></semantics></math></span></li> <li><span class="math-container" id="10423252" visual_id="4797527"><math alttext="(f\ast g)\ast h=f\ast(g\ast h)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mrow><mo stretchy="false">(</mo><mrow><mi>f</mi><mo>∗</mo><mi>g</mi></mrow><mo stretchy="false">)</mo></mrow><mo>∗</mo><mi>h</mi></mrow><mo>=</mo><mrow><mi>f</mi><mo>∗</mo><mrow><mo stretchy="false">(</mo><mrow><mi>g</mi><mo>∗</mo><mi>h</mi></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow></semantics></math></span> (this is <a href="https://en.wikipedia.org/wiki/Dirichlet_convolution" rel="nofollow">dirichlet convolution</a>)</li> <li>An appropriate identity using <a href="https://en.wikipedia.org/wiki/Mutual_information" rel="nofollow">mutual information</a></li> </ul> <hr/> <p>What is being intersected or convolved here?  How about the following definitions which I figured out after the computation below:</p> <ul> <li>Let <span class="math-container" id="10423253" visual_id="188"><math alttext="A" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi></semantics></math></span> be the set of divisors of <span class="math-container" id="10423254" visual_id="159"><math alttext="a" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>a</mi></semantics></math></span>, <span class="math-container" id="10423255" visual_id="599"><math alttext="B" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>B</mi></semantics></math></span> be the set of divisors of <span class="math-container" id="10423256" visual_id="368"><math alttext="b" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>b</mi></semantics></math></span></li> <li>Let <span class="math-container" id="10423257" visual_id="6229"><math alttext="N_{k}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>N</mi><mi>k</mi></msub></semantics></math></span> be the set of divisors of <span class="math-container" id="10423258" visual_id="3152"><math alttext="n_{k}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>n</mi><mi>k</mi></msub></semantics></math></span>, with <span class="math-container" id="10423259" visual_id="7503"><math alttext="k=1,2,3" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>=</mo><mrow><mn>1</mn><mo>,</mo><mn>2</mn><mo>,</mo><mn>3</mn></mrow></mrow></semantics></math></span></li> </ul> <p>Looking at the problem we have to compare these two rather complicated sets.</p> <p><span class="math-container" id="10423260" visual_id="6718430"><math alttext="\left\{ab:a\big{|}n_{1},\,a\big{|}n_{3},\,b\big{|}n_{2},\,b\Big{|}\frac{n_{1}}% {a}\cdot\frac{n_{3}}{a}\right\}\text{ or }\left\{gd:g\big{|}n_{1},\,g\big{|}n_% {2},\,d\big{|}n_{3},\,d\Big{|}\frac{n_{1}}{g}\cdot\frac{n_{2}}{g}\right\}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo>{</mo><mi>a</mi><mi>b</mi><mo>:</mo><mi>a</mi><mo maxsize="120%" minsize="120%">|</mo><msub><mi>n</mi><mn>1</mn></msub><mo rspace="4.2pt">,</mo><mi>a</mi><mo maxsize="120%" minsize="120%">|</mo><msub><mi>n</mi><mn>3</mn></msub><mo rspace="4.2pt">,</mo><mi>b</mi><mo maxsize="120%" minsize="120%">|</mo><msub><mi>n</mi><mn>2</mn></msub><mo rspace="4.2pt">,</mo><mi>b</mi><mo maxsize="160%" minsize="160%">|</mo><mfrac><msub><mi>n</mi><mn>1</mn></msub><mi>a</mi></mfrac><mo>⋅</mo><mfrac><msub><mi>n</mi><mn>3</mn></msub><mi>a</mi></mfrac><mo>}</mo></mrow><mtext> or </mtext><mrow><mo>{</mo><mi>g</mi><mi>d</mi><mo>:</mo><mi>g</mi><mo maxsize="120%" minsize="120%">|</mo><msub><mi>n</mi><mn>1</mn></msub><mo rspace="4.2pt">,</mo><mi>g</mi><mo maxsize="120%" minsize="120%">|</mo><msub><mi>n</mi><mn>2</mn></msub><mo rspace="4.2pt">,</mo><mi>d</mi><mo maxsize="120%" minsize="120%">|</mo><msub><mi>n</mi><mn>3</mn></msub><mo rspace="4.2pt">,</mo><mi>d</mi><mo maxsize="160%" minsize="160%">|</mo><mfrac><msub><mi>n</mi><mn>1</mn></msub><mi>g</mi></mfrac><mo>⋅</mo><mfrac><msub><mi>n</mi><mn>2</mn></msub><mi>g</mi></mfrac><mo>}</mo></mrow></mrow></semantics></math></span></p> <p>In terms of set theory we have that <span class="math-container" id="10423261" visual_id="6718431"><math alttext="A\subseteq N_{1}\cap N_{3}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>⊆</mo><mrow><msub><mi>N</mi><mn>1</mn></msub><mo>∩</mo><msub><mi>N</mi><mn>3</mn></msub></mrow></mrow></semantics></math></span> and the following set theory computation:</p> <p>\begin{eqnarray*} B &amp;\subseteq &amp; N_2 \cap \bigg( (N_1 \backslash A) \cup (N_3 \backslash A) \bigg)  \\ &amp;=&amp; N_2 \cap \bigg( (N_1 \cup N_3 ) \backslash A) \bigg) \\ &amp;=&amp; \bigg(N_2 \cap (N_1 \cup N_3) \bigg)\backslash A \end{eqnarray*}</p> <p>the set of divisors of <span class="math-container" id="10423262" visual_id="2203"><math alttext="ab" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>⁢</mo><mi>b</mi></mrow></semantics></math></span> are going to the the union of divisors of <span class="math-container" id="10423263" visual_id="9399"><math alttext="A\cup B" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>∪</mo><mi>B</mi></mrow></semantics></math></span>, yet</p> <p><span class="math-container" id="10423264" visual_id="6718432"><math alttext="A\cup B\subseteq(N_{1}\cap N_{3})\cup(N_{2}\cap N_{3})\cup(N_{1}\cap N_{2})" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>A</mi><mo>∪</mo><mi>B</mi></mrow><mo>⊆</mo><mrow><mrow><mo stretchy="false">(</mo><mrow><msub><mi>N</mi><mn>1</mn></msub><mo>∩</mo><msub><mi>N</mi><mn>3</mn></msub></mrow><mo stretchy="false">)</mo></mrow><mo>∪</mo><mrow><mo stretchy="false">(</mo><mrow><msub><mi>N</mi><mn>2</mn></msub><mo>∩</mo><msub><mi>N</mi><mn>3</mn></msub></mrow><mo stretchy="false">)</mo></mrow><mo>∪</mo><mrow><mo stretchy="false">(</mo><mrow><msub><mi>N</mi><mn>1</mn></msub><mo>∩</mo><msub><mi>N</mi><mn>2</mn></msub></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow></semantics></math></span></p> <p><strong>Note</strong> these unions and intersections have multiplicity so we are dealing with multisets.  <a href="https://en.wikipedia.org/wiki/Multiset#Multiplicity_function" rel="nofollow">union and intersection</a> are carefully defined in Wikipedia.</p> <p>the interpretation here is that <strong><span class="math-container" id="10423265" visual_id="2203"><math alttext="ab" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>⁢</mo><mi>b</mi></mrow></semantics></math></span> divides any factors that appear in at least two the three numbers <span class="math-container" id="10423266" visual_id="247875"><math alttext="n_{1},n_{2},n_{3}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mn>1</mn></msub><mo>,</mo><msub><mi>n</mi><mn>2</mn></msub><mo>,</mo><msub><mi>n</mi><mn>3</mn></msub></mrow></semantics></math></span>.</strong> </p> <p>Conversely, if we start with a set <span class="math-container" id="10423267" visual_id="6718433"><math alttext="C\subset(N_{1}\cap N_{3})\cup(N_{2}\cap N_{3})\cup(N_{1}\cap N_{2})" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo>⊂</mo><mrow><mrow><mo stretchy="false">(</mo><mrow><msub><mi>N</mi><mn>1</mn></msub><mo>∩</mo><msub><mi>N</mi><mn>3</mn></msub></mrow><mo stretchy="false">)</mo></mrow><mo>∪</mo><mrow><mo stretchy="false">(</mo><mrow><msub><mi>N</mi><mn>2</mn></msub><mo>∩</mo><msub><mi>N</mi><mn>3</mn></msub></mrow><mo stretchy="false">)</mo></mrow><mo>∪</mo><mrow><mo stretchy="false">(</mo><mrow><msub><mi>N</mi><mn>1</mn></msub><mo>∩</mo><msub><mi>N</mi><mn>2</mn></msub></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow></semantics></math></span> can be split into </p> <p><span class="math-container" id="10423268" visual_id="6718434"><math alttext="C=A\cup B\text{ with }A\subseteq N_{1}\cap N_{3}\text{ and }A\cap B=\varnothing" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo>=</mo><mrow><mi>A</mi><mo>∪</mo><mrow><mi>B</mi><mo>⁢</mo><mtext> with </mtext><mo>⁢</mo><mi>A</mi></mrow></mrow><mo>⊆</mo><mrow><msub><mi>N</mi><mn>1</mn></msub><mo>∩</mo><mrow><msub><mi>N</mi><mn>3</mn></msub><mo>⁢</mo><mtext> and </mtext><mo>⁢</mo><mi>A</mi></mrow><mo>∩</mo><mi>B</mi></mrow><mo>=</mo><merror class="ltx_ERROR undefined undefined"><mtext>\varnothing</mtext></merror></mrow></semantics></math></span></p> <p>Alternatively we could have split <span class="math-container" id="10423269" visual_id="6718435"><math alttext="C=G\cup D" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo>=</mo><mrow><mi>G</mi><mo>∪</mo><mi>D</mi></mrow></mrow></semantics></math></span> with <span class="math-container" id="10423270" visual_id="6718436"><math alttext="G\subset N_{1}\cap N_{2}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mo>⊂</mo><mrow><msub><mi>N</mi><mn>1</mn></msub><mo>∩</mo><msub><mi>N</mi><mn>2</mn></msub></mrow></mrow></semantics></math></span>\dots in fact for any function the product</p> <p><span class="math-container" id="10423271" visual_id="6718437"><math alttext="\Large\sum_{a\mid\gcd(n_{1},n_{3})}\sum_{b\mid\gcd(n_{2},\frac{n_{1}n_{3}}{a^{% 2}})}F(ab)=\sum_{g\mid\gcd(n_{1},n_{2})}\sum_{d\mid\gcd(\frac{n_{1}n_{2}}{g^{2% }},n_{3})}F(gd)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><msub><mo largeop="true" mathsize="144%" stretchy="false" symmetric="true">∑</mo><mrow><mi mathsize="144%">a</mi><mo lspace="2.5pt" mathsize="144%" rspace="2.5pt" stretchy="false">∣</mo><mrow><mi mathsize="144%">gcd</mi><mo>⁡</mo><mrow><mo maxsize="144%" minsize="144%">(</mo><msub><mi mathsize="144%">n</mi><mn mathsize="144%">1</mn></msub><mo mathsize="144%" stretchy="false">,</mo><msub><mi mathsize="144%">n</mi><mn mathsize="144%">3</mn></msub><mo maxsize="144%" minsize="144%">)</mo></mrow></mrow></mrow></msub><mrow><msub><mo largeop="true" mathsize="144%" stretchy="false" symmetric="true">∑</mo><mrow><mi mathsize="144%">b</mi><mo lspace="2.5pt" mathsize="144%" rspace="2.5pt" stretchy="false">∣</mo><mrow><mi mathsize="144%">gcd</mi><mo>⁡</mo><mrow><mo maxsize="144%" minsize="144%">(</mo><msub><mi mathsize="144%">n</mi><mn mathsize="144%">2</mn></msub><mo mathsize="144%" stretchy="false">,</mo><mfrac><mrow><msub><mi mathsize="144%">n</mi><mn mathsize="144%">1</mn></msub><mo>⁢</mo><msub><mi mathsize="144%">n</mi><mn mathsize="144%">3</mn></msub></mrow><msup><mi mathsize="144%">a</mi><mn mathsize="144%">2</mn></msup></mfrac><mo maxsize="144%" minsize="144%">)</mo></mrow></mrow></mrow></msub><mrow><mi mathsize="144%">F</mi><mo>⁢</mo><mrow><mo maxsize="144%" minsize="144%">(</mo><mrow><mi mathsize="144%">a</mi><mo>⁢</mo><mi mathsize="144%">b</mi></mrow><mo maxsize="144%" minsize="144%">)</mo></mrow></mrow></mrow></mrow><mo mathsize="144%" stretchy="false">=</mo><mrow><msub><mo largeop="true" mathsize="144%" stretchy="false" symmetric="true">∑</mo><mrow><mi mathsize="144%">g</mi><mo lspace="2.5pt" mathsize="144%" rspace="2.5pt" stretchy="false">∣</mo><mrow><mi mathsize="144%">gcd</mi><mo>⁡</mo><mrow><mo maxsize="144%" minsize="144%">(</mo><msub><mi mathsize="144%">n</mi><mn mathsize="144%">1</mn></msub><mo mathsize="144%" stretchy="false">,</mo><msub><mi mathsize="144%">n</mi><mn mathsize="144%">2</mn></msub><mo maxsize="144%" minsize="144%">)</mo></mrow></mrow></mrow></msub><mrow><msub><mo largeop="true" mathsize="144%" stretchy="false" symmetric="true">∑</mo><mrow><mi mathsize="144%">d</mi><mo lspace="2.5pt" mathsize="144%" rspace="2.5pt" stretchy="false">∣</mo><mrow><mi mathsize="144%">gcd</mi><mo>⁡</mo><mrow><mo maxsize="144%" minsize="144%">(</mo><mfrac><mrow><msub><mi mathsize="144%">n</mi><mn mathsize="144%">1</mn></msub><mo>⁢</mo><msub><mi mathsize="144%">n</mi><mn mathsize="144%">2</mn></msub></mrow><msup><mi mathsize="144%">g</mi><mn mathsize="144%">2</mn></msup></mfrac><mo mathsize="144%" stretchy="false">,</mo><msub><mi mathsize="144%">n</mi><mn mathsize="144%">3</mn></msub><mo maxsize="144%" minsize="144%">)</mo></mrow></mrow></mrow></msub><mrow><mi mathsize="144%">F</mi><mo>⁢</mo><mrow><mo maxsize="144%" minsize="144%">(</mo><mrow><mi mathsize="144%">g</mi><mo>⁢</mo><mi mathsize="144%">d</mi></mrow><mo maxsize="144%" minsize="144%">)</mo></mrow></mrow></mrow></mrow></mrow></semantics></math></span></p> <hr/> <p><strong>Older stuff</strong></p> <p>It should be enough to say <span class="math-container" id="10423272" visual_id="2203"><math alttext="ab" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>⁢</mo><mi>b</mi></mrow></semantics></math></span> divides <span class="math-container" id="10423273" visual_id="6718438"><math alttext="M=\frac{\gcd(n_{1},n_{2})\gcd(n_{2},n_{3})\gcd(n_{1},n_{3})}{\gcd(n_{1},n_{2},% n_{3})^{2}}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mo>=</mo><mfrac><mrow><mrow><mi>gcd</mi><mo>⁡</mo><mrow><mo stretchy="false">(</mo><msub><mi>n</mi><mn>1</mn></msub><mo>,</mo><msub><mi>n</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow></mrow><mo>⁢</mo><mrow><mi>gcd</mi><mo>⁡</mo><mrow><mo stretchy="false">(</mo><msub><mi>n</mi><mn>2</mn></msub><mo>,</mo><msub><mi>n</mi><mn>3</mn></msub><mo stretchy="false">)</mo></mrow></mrow><mo>⁢</mo><mrow><mi>gcd</mi><mo>⁡</mo><mrow><mo stretchy="false">(</mo><msub><mi>n</mi><mn>1</mn></msub><mo>,</mo><msub><mi>n</mi><mn>3</mn></msub><mo stretchy="false">)</mo></mrow></mrow></mrow><mrow><mi>gcd</mi><msup><mrow><mo stretchy="false">(</mo><msub><mi>n</mi><mn>1</mn></msub><mo>,</mo><msub><mi>n</mi><mn>2</mn></msub><mo>,</mo><msub><mi>n</mi><mn>3</mn></msub><mo stretchy="false">)</mo></mrow><mn>2</mn></msup></mrow></mfrac></mrow></semantics></math></span> and specify a divisor <span class="math-container" id="10423274" visual_id="6718439"><math alttext="b|\gcd(n_{2},M)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi><mo lspace="2.5pt" rspace="2.5pt" stretchy="false">|</mo><mrow><mi>gcd</mi><mo>⁡</mo><mrow><mo stretchy="false">(</mo><msub><mi>n</mi><mn>2</mn></msub><mo>,</mo><mi>M</mi><mo stretchy="false">)</mo></mrow></mrow></mrow></semantics></math></span>.  I found this formula with a Venn diagram.  It should be correct, and it should be clear that <span class="math-container" id="10423275" visual_id="6718440"><math alttext="g,d" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo>,</mo><mi>d</mi></mrow></semantics></math></span> gives the same multiset.</p>
</div>
<hr/>
<div id="answer-comments">
<table>
<tbody>
<tr><td comment_id="2379716"> Nice approach and I appreciate the symmetry you point out and the relationship with the Venn diagrams. But looking at the multisets of your answer is hardly more obvious, than looking at OPs identity. Since OP was asking for a mathematical proof, a sound reasoning is missing. Regards, </td></tr><tr><td comment_id="2380152"> @MarkusScheuer you are right.  this is a placeholder for a more complete solution.  I think Sary has the right approach but s/he struggles with the Dirichlet series a bit.  Symmetry will lead to the right answer. </td></tr><tr><td comment_id="2380165"> Ok, I see your point. Thanks for the info! +1 </td></tr>
</tbody>
</table>
</div>
</div>
<hr style="border-top: 3px double #8c8b8b"/>
</div>
<div class="row">
<div id="duplicate">
<table>
<tbody>
</tbody>
</table>
</div>
<hr/>
<div id="related">
<table>
<tbody>
</tbody>
</table>
</div>
</div>
</div>
</body>
</html>
