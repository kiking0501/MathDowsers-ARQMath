<!DOCTYPE html>

<html>
<head>
<title>For an integrable function $f$, do continuity conditions on its integral affect continuity of $f$?</title>
<link href="https://cdn.sstatic.net/Shared/stacks.css?v=079c5e1603be" rel="stylesheet" type="text/css"/>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG.js" type="text/javascript"> </script>
<link href="https://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css" rel="stylesheet"/>
<link href="https://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap-theme.min.css" rel="stylesheet"/>
<style>
        .row {
          display: block;
          margin-left: auto;
          margin-right: auto;
          width:50%;
        }
        tr {
          border:1px solid lightgrey;
        }
        </style>
</head>
<body>
<div>
<div class="row" id="question-title">
<h1> For an integrable function <span class="math-container" id="456307" visual_id="1"><math alttext="f" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>f</mi></semantics></math></span>, do continuity conditions on its integral affect continuity of <span class="math-container" id="456308" visual_id="1"><math alttext="f" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>f</mi></semantics></math></span>? </h1>
<hr/>
</div>
<div class="row">
<div class="question">
<div id="question" question_id="43801">
<p>In this question, whenever I say "integrable" I mean "Riemann-integrable".</p> <p>The (first) fundamental theorem of calculus states:</p> <p>if <span class="math-container" id="456309" visual_id="159991"><math alttext="f\in C[a,b]" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>‚àà</mo><mrow><mi>C</mi><mo>‚Å¢</mo><mrow><mo stretchy="false">[</mo><mi>a</mi><mo>,</mo><mi>b</mi><mo stretchy="false">]</mo></mrow></mrow></mrow></semantics></math></span>, then the function <span class="math-container" id="456310" visual_id="193674"><math alttext="F(x)=\int_{a}^{x}f(t)\,dt" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>F</mi><mo>‚Å¢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mrow><msubsup><mo largeop="true" symmetric="true">‚à´</mo><mi>a</mi><mi>x</mi></msubsup><mrow><mi>f</mi><mo>‚Å¢</mo><mrow><mo stretchy="false">(</mo><mi>t</mi><mo rspace="4.2pt" stretchy="false">)</mo></mrow><mo>‚Å¢</mo><mrow><mo rspace="0pt">ùëë</mo><mi>t</mi></mrow></mrow></mrow></mrow></semantics></math></span> is continuous in <span class="math-container" id="456311" visual_id="3186"><math alttext="[a,b]" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>a</mi><mo>,</mo><mi>b</mi><mo stretchy="false">]</mo></mrow></semantics></math></span>, differentiable in <span class="math-container" id="456312" visual_id="2239"><math alttext="(a,b)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>a</mi><mo>,</mo><mi>b</mi><mo stretchy="false">)</mo></mrow></semantics></math></span> and <span class="math-container" id="456313" visual_id="372888"><math alttext="F^{\prime}(x)=f(x)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><msup><mi>F</mi><mo>‚Ä≤</mo></msup><mo>‚Å¢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mrow><mi>f</mi><mo>‚Å¢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mrow></mrow></semantics></math></span> in <span class="math-container" id="456314" visual_id="2239"><math alttext="(a,b)" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>a</mi><mo>,</mo><mi>b</mi><mo stretchy="false">)</mo></mrow></semantics></math></span>.</p> <p>Now, a (sort of?) converse would read:</p> <p>if <span class="math-container" id="456315" visual_id="1"><math alttext="f" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>f</mi></semantics></math></span> is an integrable function in <span class="math-container" id="456316" visual_id="3186"><math alttext="[a,b]" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>a</mi><mo>,</mo><mi>b</mi><mo stretchy="false">]</mo></mrow></semantics></math></span> such that the function <span class="math-container" id="456317" visual_id="193674"><math alttext="F(x)=\int_{a}^{x}f(t)\,dt" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>F</mi><mo>‚Å¢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mrow><msubsup><mo largeop="true" symmetric="true">‚à´</mo><mi>a</mi><mi>x</mi></msubsup><mrow><mi>f</mi><mo>‚Å¢</mo><mrow><mo stretchy="false">(</mo><mi>t</mi><mo rspace="4.2pt" stretchy="false">)</mo></mrow><mo>‚Å¢</mo><mrow><mo rspace="0pt">ùëë</mo><mi>t</mi></mrow></mrow></mrow></mrow></semantics></math></span> is <span class="math-container" id="456318" visual_id="149468"><math alttext="C^{1}[a,b]" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>C</mi><mn>1</mn></msup><mo>‚Å¢</mo><mrow><mo stretchy="false">[</mo><mi>a</mi><mo>,</mo><mi>b</mi><mo stretchy="false">]</mo></mrow></mrow></semantics></math></span>, then <span class="math-container" id="456319" visual_id="1"><math alttext="f" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>f</mi></semantics></math></span> is continuous.</p> <p>This is not true, as the answers below put it, it suffices to alter a continuous function on a point, which does not alter the <span class="math-container" id="456320" visual_id="13489"><math alttext="C^{1}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>C</mi><mn>1</mn></msup></semantics></math></span>-ness of its integral.</p> <p>Now I ask this: are these <em>all</em> the counterexamples? Does there exist a counterexample which is not of this kind, i.e. a continuous function save for a removable discontinuity?</p> <p>To clarify: a function <span class="math-container" id="456321" visual_id="7772"><math alttext="f:[a,b]\to\mathbb{R}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>:</mo><mrow><mrow><mo stretchy="false">[</mo><mi>a</mi><mo>,</mo><mi>b</mi><mo stretchy="false">]</mo></mrow><mo>‚Üí</mo><mi>‚Ñù</mi></mrow></mrow></semantics></math></span> is said to have a <em>removable discontinuity</em> in a point <span class="math-container" id="456322" visual_id="8608"><math alttext="c\in[a,b]" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi><mo>‚àà</mo><mrow><mo stretchy="false">[</mo><mi>a</mi><mo>,</mo><mi>b</mi><mo stretchy="false">]</mo></mrow></mrow></semantics></math></span> if both one-sided limits (or the one that is defined, in case of <span class="math-container" id="456323" visual_id="159"><math alttext="a" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>a</mi></semantics></math></span> or <span class="math-container" id="456324" visual_id="368"><math alttext="b" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>b</mi></semantics></math></span>) exist and are equal.</p>
</div>
<hr/>
<div id="tags">
<span> calculus </span><span> real-analysis </span>
</div>
<hr/>
<div id="question-comments">
<table>
<tbody>
<tr><td comment_id="97298"> What about <span class="math-container" id="456367" visual_id="2020"><math alttext="f(x)=0" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>f</mi><mo>‚Å¢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mn>0</mn></mrow></semantics></math></span> for <span class="math-container" id="456326" visual_id="259"><math alttext="x\neq 0" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>‚â†</mo><mn>0</mn></mrow></semantics></math></span> while <span class="math-container" id="456327" visual_id="13936"><math alttext="f(0)=1" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>f</mi><mo>‚Å¢</mo><mrow><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mn>1</mn></mrow></semantics></math></span>, with the interval being <span class="math-container" id="456328" visual_id="840"><math alttext="[-1,1]" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mrow><mo>-</mo><mn>1</mn></mrow><mo>,</mo><mn>1</mn><mo stretchy="false">]</mo></mrow></semantics></math></span>? </td></tr><tr><td comment_id="97300"> That was easy. How silly of me. Then I ask this: is there a counterexample with no removable discontinuities? </td></tr><tr><td comment_id="97317"> @Bruno: I wasn't sure what you meant by "removable discontinuity". </td></tr><tr><td comment_id="97318"> @Eric: Shai Covo's answer below made me realize your example was correct, actually, because in a removable disctontinuity (i.e. a point in which the one-sided limits exist and are equal) what matters is topology and not measure, so producing a function which is discontinuous in a null set, we can take the null set to be dense, and then produce a counterexample which does not consist of removable discontinuities. Can't you "undelete" the answer? I'll clarify the meaning of removable discontinuity on the original post. </td></tr><tr><td comment_id="97334"> @Bruno Stonek: The way described above is not the only one, there are examples with a single non-removable discontinuity. </td></tr><tr><td comment_id="97339"> @user6312: yes, like Thomae's function but instead of altering the zero function on every rational, alter it on the set <span class="math-container" id="456329" visual_id="1775573"><math alttext="\{\frac{1}{2}\pm\frac{1}{n}:n&gt;2\}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><mrow><mfrac><mn>1</mn><mn>2</mn></mfrac><mo>¬±</mo><mfrac><mn>1</mn><mi>n</mi></mfrac></mrow><mo>:</mo><mrow><mi>n</mi><mo>&gt;</mo><mn>2</mn></mrow><mo stretchy="false">}</mo></mrow></semantics></math></span> </td></tr><tr><td comment_id="97345"> @Bruno Stronek: Or else start with functions which are <span class="math-container" id="456330" visual_id="342"><math alttext="1" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>1</mn></semantics></math></span> on very rapidly shrinking intervals around <span class="math-container" id="456331" visual_id="413"><math alttext="1/n" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>/</mo><mi>n</mi></mrow></semantics></math></span> and <span class="math-container" id="456389" visual_id="2775866"><math alttext="0" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>0</mn></semantics></math></span> elsewhere.  Then eliminate all discontinuities except the one at <span class="math-container" id="456389" visual_id="2775866"><math alttext="0" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>0</mn></semantics></math></span> by "rounding" using <span class="math-container" id="456334" visual_id="21176"><math alttext="C^{\infty}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>C</mi><mi mathvariant="normal">‚àû</mi></msup></semantics></math></span> functions in the usual way. </td></tr><tr><td comment_id="98363"> @Bruno: I mistakenly approved an edit that changed your question. A bit too much I rolled it back to your last version. I liked the other title but I overlooked the addition. Sorry about that. </td></tr>
</tbody>
</table>
</div>
</div>
<hr style="border-top: 3px double #8c8b8b"/>
</div>
<div class="row">
<div class="answer">
<div answer_id="43805" id="answer">
<p><strong>Edit:</strong> I understood integrability in the Lebesgue sense. The longer first  part is the original answer.</p> <hr/> <p>I'm rearranging my answer since I'm a bit confused about the actual question, which seems to be:</p> <blockquote> <p>If <span class="math-container" id="456335" visual_id="707488"><math alttext="F(t)=\int_{a}^{t}f(x)\,dx" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>F</mi><mo>‚Å¢</mo><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mrow><msubsup><mo largeop="true" symmetric="true">‚à´</mo><mi>a</mi><mi>t</mi></msubsup><mrow><mi>f</mi><mo>‚Å¢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo rspace="4.2pt" stretchy="false">)</mo></mrow><mo>‚Å¢</mo><mrow><mo rspace="0pt">ùëë</mo><mi>x</mi></mrow></mrow></mrow></mrow></semantics></math></span> is a <span class="math-container" id="456336" visual_id="13489"><math alttext="C^{1}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>C</mi><mn>1</mn></msup></semantics></math></span>-function, is it then true that <span class="math-container" id="456337" visual_id="1"><math alttext="f" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>f</mi></semantics></math></span> is continuous?</p> </blockquote> <p>The answer to that question is <em>no</em>, since we can always modify <span class="math-container" id="456338" visual_id="1"><math alttext="f" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>f</mi></semantics></math></span> on a null set without changing <span class="math-container" id="456339" visual_id="75"><math alttext="F" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>F</mi></semantics></math></span>. The characteristic function of <span class="math-container" id="456340" visual_id="856"><math alttext="\mathbb{Q}" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>‚Ñö</mi></semantics></math></span>, for example, is <em>nowhere continuous</em> but its integral is zero over every interval. These are true discontinuities, not only removable ones.</p> <p>The point is that <span class="math-container" id="456341" visual_id="1"><math alttext="f" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>f</mi></semantics></math></span> is completely underdetermined in this question. <em>Any</em> modification of <span class="math-container" id="456342" visual_id="1"><math alttext="f" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>f</mi></semantics></math></span> on a null set will yield the same <span class="math-container" id="456343" visual_id="75"><math alttext="F" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>F</mi></semantics></math></span>, thus we can't hope for more than <span class="math-container" id="456344" visual_id="58119"><math alttext="F^{\prime}=f" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>F</mi><mo>‚Ä≤</mo></msup><mo>=</mo><mi>f</mi></mrow></semantics></math></span> almost everywhere. Amazingly enough, this turns out to be true.</p> <p>The right question to ask was answered by Lebesgue. The starting point is that for an integrable function <span class="math-container" id="456345" visual_id="1"><math alttext="f" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>f</mi></semantics></math></span> its definite integral <span class="math-container" id="456346" visual_id="75"><math alttext="F" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>F</mi></semantics></math></span> will always be <a href="http://en.wikipedia.org/wiki/Absolute_continuity" rel="nofollow noreferrer">absolutely continuous</a>. The <a href="http://en.wikipedia.org/wiki/Lebesgue_differentiation_theorem" rel="nofollow noreferrer">Lebesgue differentiation theorem</a> even tells us that <span class="math-container" id="456347" visual_id="75"><math alttext="F" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>F</mi></semantics></math></span> is almost everywhere differentiable and <span class="math-container" id="456348" visual_id="58119"><math alttext="F^{\prime}=f" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>F</mi><mo>‚Ä≤</mo></msup><mo>=</mo><mi>f</mi></mrow></semantics></math></span> almost everywhere.</p> <p>Lebesgue proved even more:</p> <blockquote> <p>Assume that <span class="math-container" id="456349" visual_id="75"><math alttext="F" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>F</mi></semantics></math></span> is differentiable almost everywhere. In order for <span class="math-container" id="456350" visual_id="75"><math alttext="F" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>F</mi></semantics></math></span> to be the definite integral of its derivative it is necessary and sufficient that <span class="math-container" id="456351" visual_id="75"><math alttext="F" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>F</mi></semantics></math></span> be absolutely continuous.</p> </blockquote> <p>This is proved in any decent text on measure theory e.g. Royden or Rudin.</p> <p>On the other hand, <a href="http://en.wikipedia.org/wiki/Lusin's_theorem" rel="nofollow noreferrer">Luzin's theorem</a> implies that a measurable <span class="math-container" id="456352" visual_id="1"><math alttext="f" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>f</mi></semantics></math></span> <em>is</em> continuous on the complement on a set of arbitrarily small measure.</p> <p>One further point you should be aware of: If <span class="math-container" id="456353" visual_id="75"><math alttext="F" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>F</mi></semantics></math></span> is continuous and differentiable almost everywhere and <span class="math-container" id="456354" visual_id="699422"><math alttext="F^{\prime}=0" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>F</mi><mo>‚Ä≤</mo></msup><mo>=</mo><mn>0</mn></mrow></semantics></math></span> wherever it is defined then <span class="math-container" id="456355" visual_id="75"><math alttext="F" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>F</mi></semantics></math></span> can be non-constant, even monotonic. the standard example for this is called the Cantor-Lebesgue function, or more colorfully <a href="http://ioannis.virtualcomposer2000.com/math/cantor.html" rel="nofollow noreferrer">the devil's staircase</a>.</p> <p>Finally, I'd like to point out that it is an <a href="https://mathoverflow.net/questions/66462/which-functions-of-one-variable-are-derivatives">awfully subtle business</a> to characterize the functions which are derivatives of everywhere differentiable functions.</p> <hr/> <p><strong>Added:</strong></p> <p>Robert Israel left the following comment to this answer (thank you very much for that!):</p> <blockquote> <p>According to Lebesgue's criterion, a function is Riemann integrable on <span class="math-container" id="456356" visual_id="3186"><math alttext="[a,b]" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>a</mi><mo>,</mo><mi>b</mi><mo stretchy="false">]</mo></mrow></semantics></math></span> if [and only if] it is continuous almost everywhere and bounded. To maintain the continuity almost everywhere in the counterexample, the set on which you modify <span class="math-container" id="456357" visual_id="1"><math alttext="f" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>f</mi></semantics></math></span> can be a closed set of measure <span class="math-container" id="456358" visual_id="2775866"><math alttext="0" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>0</mn></semantics></math></span>, e.g. a <a href="http://en.wikipedia.org/wiki/Cantor_set" rel="nofollow noreferrer">Cantor set</a>.</p> </blockquote> <p>The only thing I'd like to add to that is:</p> <blockquote> <p><a href="https://math.stackexchange.com/questions/39922/riemann-integral-question/39970#39970"><em>Lebesgue's criterion is actually Riemann's criterion</em></a></p> </blockquote> <p>see <em>√úber die Darstellbarkeit einer Funktion durch eine trigonometrische Reihe</em> (1854). More precisely, the relevant passage is Section¬†5 on pages 226 and 227 of Bernhard Riemann's <em><a href="http://www.archive.org/details/bernardrgesamm00riemrich" rel="nofollow noreferrer">Gesammelte mathematische Werke und wissenschaftlicher Nachlass</a></em>.</p> <p>(Hat tip to Roy Smith and Pete L. Clark)</p>
</div>
<hr/>
<div id="answer-comments">
<table>
<tbody>
<tr><td comment_id="97315"> @Theo: I definitely did confuse the two. </td></tr><tr><td comment_id="97331"> @Theo: I don't understand your sentence on absolute continuity. Also, I don't quite see how it is related to this problem, especially since the wikipedia link talks about Lebesgue integrability; could you please elaborate? Thank you! </td></tr><tr><td comment_id="97341"> @Bruno: That's the best I can do at the moment. If there are things that remain unclear, please ask. I'll address them in a few hours. </td></tr><tr><td comment_id="97354"> Another thing which is uncle<span class="math-container" id="1116624">a</span>r in the question is if integra<span class="math-container" id="1116625">b</span>le mea<span class="math-container" id="1116627">n</span>s Lebesque or Riemann, that makes a big difference for the construction of the example.... </td></tr><tr><td comment_id="97460"> @user9176: edited to clarify. @Theo: thank you for a very detailed and informative answer! </td></tr><tr><td comment_id="97461"> @Bru<span class="math-container" id="1114520">n</span>o: You're welcome. Thanks for the clarification of your question. Unfortunately, I understood "integrable" in the Lebesgue sense. I'll add something on the Riemann integrable case a bit later. </td></tr><tr><td comment_id="97779"> According to Lebesgue's criterion, a function is Riemann integrable on <span class="math-container" id="456401" visual_id="3186"><math alttext="[a,b]" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>a</mi><mo>,</mo><mi>b</mi><mo stretchy="false">]</mo></mrow></semantics></math></span> if it is continuous almost everywhere and bounded.  To maintain the continuity almost everywhere in the counterexample, the set on which you modify <span class="math-container" id="456392" visual_id="1"><math alttext="f" class="ltx_Math" display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>f</mi></semantics></math></span> can be a closed set of measure 0, e.g. a Cantor set. </td></tr><tr><td comment_id="97826"> @Robert: Thank you very much for this (this made updating this answer very easy) and correcting the annoying typo! </td></tr><tr><td comment_id="97827"> @Bruno: Thanks for accepting this answer before I actually updated it, I hope you like the addition. </td></tr>
</tbody>
</table>
</div>
</div>
<hr style="border-top: 3px double #8c8b8b"/>
</div>
<div class="row">
<div id="duplicate">
<table>
<tbody>
</tbody>
</table>
</div>
<hr/>
<div id="related">
<table>
<tbody>
<tr><td post_id="7004"> Continuity of function </td></tr><tr><td post_id="39922"> Riemann integral question </td></tr><tr><td post_id="53121"> How do people apply the Lebesgue integration theory? </td></tr>
</tbody>
</table>
</div>
</div>
</div>
</body>
</html>
